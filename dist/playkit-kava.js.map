{"version":3,"sources":["./kava/webpack/universalModuleDefinition","./kava/playkit-kava.js","./kava/webpack/bootstrap ac9483442d20d22ce295","./kava/external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":[\"KalturaPlayer\",\"core\"]}","./kava/./kava-event-model.js","./kava/./kava-model.js","./kava/./index.js","./kava/./kava.js","./kava/../node_modules/playkit-js-providers/dist/playkit-analytics-service.js","./kava/./kava-rate-handler.js","./kava/./kava-timer.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getEventModel","eventObj","model","commonModel","eventType","index","partnerId","getPartnerId","entryId","getEntryId","sessionId","getSessionId","eventIndex","getEventIndex","referrer","getReferrer","deliveryType","getDeliveryType","playbackType","getPlaybackType","clientVer","getClientVer","clientTag","getClientTag","position","getPosition","getSessionStartTime","sessionStartTime","getKS","ks","getUIConfId","uiConfId","getCustomVar1","customVar1","getCustomVar2","customVar2","getCustomVar3","customVar3","eventModel","assign","value","KavaEventModel","undefined","_kavaModel","obj","VIEW","type","playTimeSum","getPlayTimeSum","bufferTime","getBufferTime","bufferTimeSum","getBufferTimeSum","actualBitrate","getActualBitrate","averageBitrate","getAverageBitrate","IMPRESSION","PLAY_REQUEST","PLAY","joinTime","getJoinTime","RESUME","PAUSE","REPLAY","SEEK","targetPosition","getTargetPosition","PLAY_REACHED_25_PERCENT","PLAY_REACHED_50_PERCENT","PLAY_REACHED_75_PERCENT","PLAY_REACHED_100_PERCENT","SOURCE_SELECTED","AUDIO_SELECTED","language","getLanguage","FLAVOR_SWITCH","CAPTIONS","caption","getCaption","ERROR","errorCode","getErrorCode","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_kavaEventModel","KavaModel","updateModel","default","NAME","VERSION","_playkitJs","_kava","_kava2","registerPlugin","_interopRequireDefault","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_typeof","Symbol","iterator","_playkitAnalyticsService","_kavaRateHandler","_kavaRateHandler2","_kavaTimer","_kavaTimer2","_kavaModel2","Kava","_BasePlugin","player","config","_this","getPrototypeOf","_rateHandler","_model","_setModelDelegates","_timer","resetCounter","resetSessionCountdown","eventCounter","viewEventCountdown","_viewEventEnabled","_resetFlags","_addBindings","eventManager","destroy","removeAll","_previousCurrentTime","_isFirstPlay","_isEnded","_isPaused","_isBuffering","_timePercentEvent","logger","debug","reset","_this2","_validate","_updatePlayTimeSumModel","_updateBufferModel","_bufferStartTime","Date","now","getModel","OVPAnalyticsService","trackEvent","serviceUrl","doHttpRequest","then","response","_updateSessionStartTimeModel","err","error","_this3","listen","Event","TICK","countCurrent","REPORT","_onReport","RESET","_resetSession","_onSourceSelected","event","_onError","ready","_setInitialTracks","PLAYING","_onPlaying","FIRST_PLAY","_onFirstPlay","SEEKING","_onSeeking","_onPause","ENDED","_onEnded","TIME_UPDATE","_onTimeUpdate","VIDEO_TRACK_CHANGED","_onVideoTrackChanged","ABR_MODE_CHANGED","_onAbrModeChanged","AUDIO_TRACK_CHANGED","_onAudioTrackChanged","TEXT_TRACK_CHANGED","_onTextTrackChanged","PLAYER_STATE_CHANGED","_onPlayerStateChanged","rates","getTracks","Track","VIDEO","forEach","videoTrack","push","bandwidth","_getRates","activeTracks","getActiveTracks","setRates","setCurrent","video","audio","text","_sendAnalytics","warn","start","_getTimeDifferenceInSeconds","_firstPlayRequestTime","resume","currentTime","stop","percent","duration","PLAY_REACHED_25","PLAY_REACHED_50","PLAY_REACHED_75","PLAY_REACHED_100","payload","selectedVideoTrack","isAdaptiveBitrateEnabled","mode","AbrMode","AUTO","audioTrack","textTrack","selectedTextTrack","code","oldState","newState","State","BUFFERING","time","viewEventEnabled","isStopped","delta","_this4","getCurrent","getAverage","playerVersion","btoa","_getPosition","_getDeliveryType","_getPlaybackType","isLive","streamType","StreamType","PROGRESSIVE","isDvr","dvrThreshold","sources","toString","toLowerCase","_logMissingParam","missingParam","BasePlugin","defaultConfig","e","t","r","u","arguments","Map","headers","service","action","url","Error","XMLHttpRequest","Promise","onreadystatechange","readyState","status","JSON","parse","responseText","message","open","method","setRequestHeader","send","params","OVPConfiguration","cdnUrl","serviceParams","apiVersion","format","a","clone","hasError","objectType","data","MultiRequestResult","f","v","y","Array","apply","concat","requests","stringify","_logger","b","results","success","result","isArray","slice","keys","getLevel","setLevel","setLogLevel","getLogLevel","LogLevel","DEBUG","INFO","TIME","WARN","OFF","useDefaults","defaultLevel","context","filterLevel","log","info","enabledFor","invoke","timeEnd","level","setHandler","createDefaultHandler","formatter","unshift","Function","console","getTime","set","getUrl","encodeURIComponent","test","String","join","replace","param","tag","RequestBuilder","KavaRateHandler","_rates","_isSwitchedToAbrMode","rate","active","find","current","totalDuration","sum","KavaTimer","_FakeEventTarget","_config","_clearTimeout","_stopped","_resetCounter","_eventCounter","_intervalId","setInterval","_monitor","clearInterval","dispatchEvent","FakeEvent","FakeEventTarget"],"mappings":"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","file":"playkit-kava.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kava\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"KalturaPlayer\"] = root[\"KalturaPlayer\"] || {}, root[\"KalturaPlayer\"][\"plugins\"] = root[\"KalturaPlayer\"][\"plugins\"] || {}, root[\"KalturaPlayer\"][\"plugins\"][\"kava\"] = factory(root[\"KalturaPlayer\"][\"core\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kava\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"KalturaPlayer\"] = root[\"KalturaPlayer\"] || {}, root[\"KalturaPlayer\"][\"plugins\"] = root[\"KalturaPlayer\"][\"plugins\"] || {}, root[\"KalturaPlayer\"][\"plugins\"][\"kava\"] = factory(root[\"KalturaPlayer\"][\"core\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KavaEventModel = undefined;\nexports.getEventModel = getEventModel;\n\nvar _kavaModel = __webpack_require__(2);\n\nvar _kavaModel2 = _interopRequireDefault(_kavaModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KavaEventModel = exports.KavaEventModel = {\n  VIEW: {\n    type: \"VIEW\",\n    index: 99,\n    getEventModel: function getEventModel(model) {\n      return {\n        playTimeSum: model.getPlayTimeSum(),\n        bufferTime: model.getBufferTime(),\n        bufferTimeSum: model.getBufferTimeSum(),\n        actualBitrate: model.getActualBitrate(),\n        averageBitrate: model.getAverageBitrate()\n      };\n    }\n  },\n  IMPRESSION: {\n    type: \"IMPRESSION\",\n    index: 1,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REQUEST: {\n    type: \"PLAY_REQUEST\",\n    index: 2,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY: {\n    type: \"PLAY\",\n    index: 3,\n    getEventModel: function getEventModel(model) {\n      return {\n        bufferTime: model.getBufferTime(),\n        bufferTimeSum: model.getBufferTimeSum(),\n        actualBitrate: model.getActualBitrate(),\n        joinTime: model.getJoinTime()\n      };\n    }\n  },\n  RESUME: {\n    type: \"RESUME\",\n    index: 4,\n    getEventModel: function getEventModel(model) {\n      return {\n        bufferTime: model.getBufferTime(),\n        bufferTimeSum: model.getBufferTimeSum(),\n        actualBitrate: model.getActualBitrate()\n      };\n    }\n  },\n  PAUSE: {\n    type: \"PAUSE\",\n    index: 33,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  REPLAY: {\n    type: \"REPLAY\",\n    index: 34,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  SEEK: {\n    type: \"SEEK\",\n    index: 35,\n    getEventModel: function getEventModel(model) {\n      return {\n        targetPosition: model.getTargetPosition()\n      };\n    }\n  },\n  PLAY_REACHED_25_PERCENT: {\n    type: \"PLAY_REACHED_25_PERCENT\",\n    index: 11,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REACHED_50_PERCENT: {\n    type: \"PLAY_REACHED_50_PERCENT\",\n    index: 12,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REACHED_75_PERCENT: {\n    type: \"PLAY_REACHED_75_PERCENT\",\n    index: 13,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REACHED_100_PERCENT: {\n    type: \"PLAY_REACHED_100_PERCENT\",\n    index: 14,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  SOURCE_SELECTED: {\n    type: \"SOURCE_SELECTED\",\n    index: 39,\n    getEventModel: function getEventModel(model) {\n      return {\n        actualBitrate: model.getActualBitrate()\n      };\n    }\n  },\n  AUDIO_SELECTED: {\n    type: \"AUDIO_SELECTED\",\n    index: 42,\n    getEventModel: function getEventModel(model) {\n      return {\n        language: model.getLanguage()\n      };\n    }\n  },\n  FLAVOR_SWITCH: {\n    type: \"FLAVOR_SWITCH\",\n    index: 43,\n    getEventModel: function getEventModel(model) {\n      return {\n        actualBitrate: model.getActualBitrate()\n      };\n    }\n  },\n  CAPTIONS: {\n    type: \"CAPTIONS\",\n    index: 38,\n    getEventModel: function getEventModel(model) {\n      return {\n        caption: model.getCaption()\n      };\n    }\n  },\n  ERROR: {\n    type: \"ERROR\",\n    index: 98,\n    getEventModel: function getEventModel(model) {\n      return {\n        errorCode: model.getErrorCode()\n      };\n    }\n  }\n};\n\n/**\n * Gets the full event model for a certain event object including the common params.\n * @param {KavaEvent} eventObj - The event model.\n * @param {KavaModel} model - The plugin model store.\n * @returns {Object} - The full event model.\n */\n\nfunction getEventModel(eventObj, model) {\n  var commonModel = {\n    eventType: eventObj.index,\n    partnerId: model.getPartnerId(),\n    entryId: model.getEntryId(),\n    sessionId: model.getSessionId(),\n    eventIndex: model.getEventIndex(),\n    referrer: model.getReferrer(),\n    deliveryType: model.getDeliveryType(),\n    playbackType: model.getPlaybackType(),\n    clientVer: model.getClientVer(),\n    clientTag: model.getClientTag(),\n    position: model.getPosition()\n  };\n  if (model.getSessionStartTime()) {\n    commonModel.sessionStartTime = model.getSessionStartTime();\n  }\n  if (model.getKS()) {\n    commonModel.ks = model.getKS();\n  }\n  if (model.getUIConfId()) {\n    commonModel.uiConfId = model.getUIConfId();\n  }\n  if (model.getCustomVar1()) {\n    commonModel.customVar1 = model.getCustomVar1();\n  }\n  if (model.getCustomVar2()) {\n    commonModel.customVar2 = model.getCustomVar2();\n  }\n  if (model.getCustomVar3()) {\n    commonModel.customVar3 = model.getCustomVar3();\n  }\n  var eventModel = eventObj.getEventModel(model);\n  return Object.assign(eventModel, commonModel);\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kavaEventModel = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * The KAVA model that stores data.\n * @constructor\n * @param {?Object} - Initial model.\n */\nvar KavaModel = function () {\n  function KavaModel(model) {\n    _classCallCheck(this, KavaModel);\n\n    if (model) {\n      this.updateModel(model);\n    }\n  }\n\n  /**\n   * Gets the total play time.\n   * @returns {number} - The play time sum.\n   */\n\n\n  _createClass(KavaModel, [{\n    key: 'getPlayTimeSum',\n    value: function getPlayTimeSum() {\n      return this.playTimeSum;\n    }\n\n    /**\n     * Gets the buffer time.\n     * @returns {number} - The buffer time.\n     */\n\n  }, {\n    key: 'getBufferTime',\n    value: function getBufferTime() {\n      return this.bufferTime;\n    }\n\n    /**\n     * Gets the total buffer time.\n     * @returns {number} - The total buffer time.\n     */\n\n  }, {\n    key: 'getBufferTimeSum',\n    value: function getBufferTimeSum() {\n      return this.bufferTimeSum;\n    }\n\n    /**\n     * Gets the join time.\n     * @returns {number} - The join time.\n     */\n\n  }, {\n    key: 'getJoinTime',\n    value: function getJoinTime() {\n      return this.joinTime;\n    }\n\n    /**\n     * Gets a target position\n     * @returns {number} - The target position.\n     */\n\n  }, {\n    key: 'getTargetPosition',\n    value: function getTargetPosition() {\n      return this.targetPosition;\n    }\n\n    /**\n     * Gets an audio language.\n     * @returns {string} - The audio language.\n     */\n\n  }, {\n    key: 'getLanguage',\n    value: function getLanguage() {\n      return this.language;\n    }\n\n    /**\n     * Gets a caption language.\n     * @returns {string} - The caption language.\n     */\n\n  }, {\n    key: 'getCaption',\n    value: function getCaption() {\n      return this.caption;\n    }\n\n    /**\n     * Gets the error code.\n     * @returns {number} - The error code.\n     */\n\n  }, {\n    key: 'getErrorCode',\n    value: function getErrorCode() {\n      return this.errorCode;\n    }\n\n    /**\n     * Gets the event index counter.\n     * @returns {number} - The event index counter.\n     */\n\n  }, {\n    key: 'getEventIndex',\n    value: function getEventIndex() {\n      return this.eventIndex;\n    }\n\n    /**\n     * Gets the session start time.\n     * @returns {number} - The session start time.\n     */\n\n  }, {\n    key: 'getSessionStartTime',\n    value: function getSessionStartTime() {\n      return this.sessionStartTime;\n    }\n\n    /**\n     * Updates the model.\n     * @param {Object} obj - A partial or full updated model.\n     * @returns {void}\n     */\n\n  }, {\n    key: 'updateModel',\n    value: function updateModel(obj) {\n      Object.assign(this, obj);\n    }\n\n    /**\n     * Gets the model for a certain event.\n     * @param {KavaEvent} eventObj - The event object.\n     * @returns {Object} - The event model.\n     */\n\n  }, {\n    key: 'getModel',\n    value: function getModel(eventObj) {\n      return (0, _kavaEventModel.getEventModel)(eventObj, this);\n    }\n  }]);\n\n  return KavaModel;\n}();\n\nexports.default = KavaModel;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NAME = exports.VERSION = undefined;\n\nvar _playkitJs = __webpack_require__(0);\n\nvar _kava = __webpack_require__(4);\n\nvar _kava2 = _interopRequireDefault(_kava);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _kava2.default;\nexports.VERSION = \"0.1.0\";\nexports.NAME = \"playkit-js-kava\";\n\n\nvar pluginName = \"kava\";\n\n(0, _playkitJs.registerPlugin)(pluginName, _kava2.default);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _playkitJs = __webpack_require__(0);\n\nvar _playkitAnalyticsService = __webpack_require__(5);\n\nvar _kavaEventModel = __webpack_require__(1);\n\nvar _kavaRateHandler = __webpack_require__(6);\n\nvar _kavaRateHandler2 = _interopRequireDefault(_kavaRateHandler);\n\nvar _kavaTimer = __webpack_require__(7);\n\nvar _kavaTimer2 = _interopRequireDefault(_kavaTimer);\n\nvar _kavaModel = __webpack_require__(2);\n\nvar _kavaModel2 = _interopRequireDefault(_kavaModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * KAVA (Kaltura Advanced Analytics) plugin class.\n * @constructor\n * @param {string} name - The plugin name.\n * @param {Player} player - The player instance.\n * @param {Object} config - The plugin config.\n */\nvar Kava = function (_BasePlugin) {\n  _inherits(Kava, _BasePlugin);\n\n  _createClass(Kava, null, [{\n    key: 'isValid',\n\n\n    /**\n     * Runs the plugin validation logic.\n     * @type {Object}\n     * @static\n     * @return {boolean} - Whether the plugin is valid or not.\n     */\n    value: function isValid() {\n      return true;\n    }\n\n    /**\n     * The default config of the plugin.\n     * @type {Object}\n     * @static\n     */\n\n  }]);\n\n  function Kava(name, player, config) {\n    _classCallCheck(this, Kava);\n\n    var _this = _possibleConstructorReturn(this, (Kava.__proto__ || Object.getPrototypeOf(Kava)).call(this, name, player, config));\n\n    _this._rateHandler = new _kavaRateHandler2.default();\n    _this._model = new _kavaModel2.default();\n    _this._setModelDelegates();\n    _this._timer = new _kavaTimer2.default({\n      resetCounter: _this.config.resetSessionCountdown,\n      eventCounter: _this.config.viewEventCountdown\n    });\n    _this._viewEventEnabled = true;\n    _this._resetFlags();\n    _this._addBindings();\n    _this._model.updateModel({\n      eventIndex: 1,\n      bufferTime: .0,\n      bufferTimeSum: .0,\n      playTimeSum: .0\n    });\n    return _this;\n  }\n\n  /**\n   * Runs the destroy logic of the plugin.\n   * @public\n   * @return {void}\n   */\n\n\n  _createClass(Kava, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.eventManager.destroy();\n      this._timer.destroy();\n      this._rateHandler.destroy();\n    }\n\n    /**\n     * Runs the reset logic of the plugin.\n     * @public\n     * @return {void}\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.eventManager.removeAll();\n      this._rateHandler.destroy();\n      this._timer.destroy();\n      this._resetFlags();\n      this._addBindings();\n      this._model.updateModel({\n        eventIndex: 1,\n        bufferTime: .0,\n        bufferTimeSum: .0,\n        playTimeSum: .0,\n        sessionStartTime: null\n      });\n    }\n  }, {\n    key: '_resetFlags',\n    value: function _resetFlags() {\n      this._previousCurrentTime = 0;\n      this._isFirstPlay = true;\n      this._isEnded = false;\n      this._isPaused = false;\n      this._isBuffering = false;\n      this._timePercentEvent = {\n        PLAY_REACHED_25_PERCENT: false,\n        PLAY_REACHED_50_PERCENT: false,\n        PLAY_REACHED_75_PERCENT: false,\n        PLAY_REACHED_100_PERCENT: false\n      };\n    }\n  }, {\n    key: '_resetSession',\n    value: function _resetSession() {\n      this.logger.debug(\"Reset KAVA session\");\n      this._rateHandler.reset();\n      this._model.updateModel({\n        eventIndex: 1,\n        bufferTimeSum: .0,\n        playTimeSum: .0\n      });\n    }\n  }, {\n    key: '_sendAnalytics',\n    value: function _sendAnalytics(eventObj) {\n      var _this2 = this;\n\n      if (!this._validate()) {\n        return;\n      }\n\n      this._updatePlayTimeSumModel();\n      if (this._isBuffering) {\n        this._updateBufferModel();\n        this._bufferStartTime = Date.now();\n      }\n\n      var model = this._model.getModel(eventObj);\n      _playkitAnalyticsService.OVPAnalyticsService.trackEvent(this.config.serviceUrl, model).doHttpRequest().then(function (response) {\n        _this2.logger.debug('KAVA event sent', eventObj.type, model);\n        _this2._updateSessionStartTimeModel(response);\n      }, function (err) {\n        _this2.logger.error('Failed to send KAVA event', eventObj.type, model, err);\n      });\n      this._model.updateModel({ eventIndex: this._model.getEventIndex() + 1 });\n    }\n  }, {\n    key: '_addBindings',\n    value: function _addBindings() {\n      var _this3 = this;\n\n      this.eventManager.listen(this._timer, _kavaTimer2.default.Event.TICK, function () {\n        return _this3._rateHandler.countCurrent();\n      });\n      this.eventManager.listen(this._timer, _kavaTimer2.default.Event.REPORT, function () {\n        return _this3._onReport();\n      });\n      this.eventManager.listen(this._timer, _kavaTimer2.default.Event.RESET, function () {\n        return _this3._resetSession();\n      });\n      this.eventManager.listen(this.player, this.player.Event.SOURCE_SELECTED, function () {\n        return _this3._onSourceSelected();\n      });\n      this.eventManager.listen(this.player, this.player.Event.ERROR, function (event) {\n        return _this3._onError(event);\n      });\n      this.player.ready().then(function () {\n        _this3._setInitialTracks();\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.PLAYING, function () {\n          return _this3._onPlaying();\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.FIRST_PLAY, function () {\n          return _this3._onFirstPlay();\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.SEEKING, function () {\n          return _this3._onSeeking();\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.PAUSE, function () {\n          return _this3._onPause();\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.ENDED, function () {\n          return _this3._onEnded();\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.TIME_UPDATE, function () {\n          return _this3._onTimeUpdate();\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.VIDEO_TRACK_CHANGED, function (event) {\n          return _this3._onVideoTrackChanged(event);\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.ABR_MODE_CHANGED, function (event) {\n          return _this3._onAbrModeChanged(event);\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.AUDIO_TRACK_CHANGED, function (event) {\n          return _this3._onAudioTrackChanged(event);\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.TEXT_TRACK_CHANGED, function (event) {\n          return _this3._onTextTrackChanged(event);\n        });\n        _this3.eventManager.listen(_this3.player, _this3.player.Event.PLAYER_STATE_CHANGED, function (event) {\n          return _this3._onPlayerStateChanged(event);\n        });\n      });\n    }\n  }, {\n    key: '_getRates',\n    value: function _getRates() {\n      var rates = [];\n      var videoTracks = this.player.getTracks(this.player.Track.VIDEO);\n      videoTracks.forEach(function (videoTrack) {\n        return rates.push(videoTrack.bandwidth);\n      });\n      return rates;\n    }\n  }, {\n    key: '_setInitialTracks',\n    value: function _setInitialTracks() {\n      var rates = this._getRates();\n      var activeTracks = this.player.getActiveTracks();\n      this._rateHandler.setRates(rates);\n      this._rateHandler.setCurrent(activeTracks.video.bandwidth);\n      if (activeTracks.audio) {\n        this._model.updateModel({ language: activeTracks.audio.language });\n      }\n      if (activeTracks.text) {\n        this._model.updateModel({ caption: activeTracks.text.language });\n      }\n    }\n  }, {\n    key: '_onReport',\n    value: function _onReport() {\n      if (this._viewEventEnabled) {\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.VIEW);\n      } else {\n        this.logger.warn('VIEW event blocked because server response of viewEventsEnabled=false');\n      }\n      this._model.updateModel({ bufferTime: 0 });\n    }\n  }, {\n    key: '_onPlaying',\n    value: function _onPlaying() {\n      if (this._isFirstPlay) {\n        this._timer.start();\n        this._isFirstPlay = false;\n        this._model.updateModel({ joinTime: Kava._getTimeDifferenceInSeconds(this._firstPlayRequestTime) });\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY);\n      } else if (this._isEnded) {\n        this._timer.start();\n        this._isEnded = false;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.REPLAY);\n      } else if (this._isPaused) {\n        this._timer.resume();\n        this._isPaused = false;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.RESUME);\n      }\n    }\n  }, {\n    key: '_onFirstPlay',\n    value: function _onFirstPlay() {\n      this._firstPlayRequestTime = Date.now();\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REQUEST);\n    }\n  }, {\n    key: '_onSourceSelected',\n    value: function _onSourceSelected() {\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.IMPRESSION);\n    }\n  }, {\n    key: '_onSeeking',\n    value: function _onSeeking() {\n      this._previousCurrentTime = this.player.currentTime;\n      this._model.updateModel({ targetPosition: this.player.currentTime });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.SEEK);\n    }\n  }, {\n    key: '_onPause',\n    value: function _onPause() {\n      this._isPaused = true;\n      this._timer.stop();\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.PAUSE);\n    }\n  }, {\n    key: '_onEnded',\n    value: function _onEnded() {\n      this._isEnded = true;\n      this._onTimeUpdate();\n      this._model.updateModel({ bufferTime: 0 });\n    }\n  }, {\n    key: '_onTimeUpdate',\n    value: function _onTimeUpdate() {\n      this._updatePlayTimeSumModel();\n      var percent = this.player.currentTime / this.player.duration;\n      if (!this._timePercentEvent.PLAY_REACHED_25 && percent >= .25) {\n        this._timePercentEvent.PLAY_REACHED_25 = true;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_25_PERCENT);\n      }\n      if (!this._timePercentEvent.PLAY_REACHED_50 && percent >= .50) {\n        this._timePercentEvent.PLAY_REACHED_50 = true;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_50_PERCENT);\n      }\n      if (!this._timePercentEvent.PLAY_REACHED_75 && percent >= .75) {\n        this._timePercentEvent.PLAY_REACHED_75 = true;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_75_PERCENT);\n      }\n      if (!this._timePercentEvent.PLAY_REACHED_100 && percent === 1) {\n        this._timePercentEvent.PLAY_REACHED_100 = true;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_100_PERCENT);\n      }\n    }\n  }, {\n    key: '_onVideoTrackChanged',\n    value: function _onVideoTrackChanged(event) {\n      var videoTrack = event.payload.selectedVideoTrack;\n      this._rateHandler.setCurrent(videoTrack.bandwidth);\n      if (!this.player.isAdaptiveBitrateEnabled()) {\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.SOURCE_SELECTED);\n      } else {\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.FLAVOR_SWITCH);\n      }\n    }\n  }, {\n    key: '_onAbrModeChanged',\n    value: function _onAbrModeChanged(event) {\n      var mode = event.payload.mode;\n      if (mode === this.player.AbrMode.AUTO) {\n        this._rateHandler.setCurrent(0);\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.SOURCE_SELECTED);\n      }\n    }\n  }, {\n    key: '_onAudioTrackChanged',\n    value: function _onAudioTrackChanged(event) {\n      var audioTrack = event.payload.selectedVideoTrack;\n      this._model.updateModel({ language: audioTrack.language });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.AUDIO_SELECTED);\n    }\n  }, {\n    key: '_onTextTrackChanged',\n    value: function _onTextTrackChanged(event) {\n      var textTrack = event.payload.selectedTextTrack;\n      this._model.updateModel({ caption: textTrack.language });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.CAPTIONS);\n    }\n  }, {\n    key: '_onError',\n    value: function _onError(event) {\n      this._model.updateModel({ errorCode: event.payload.code });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.ERROR);\n    }\n  }, {\n    key: '_onPlayerStateChanged',\n    value: function _onPlayerStateChanged(event) {\n      var oldState = event.payload.oldState;\n      var newState = event.payload.newState;\n      if (oldState.type === this.player.State.BUFFERING) {\n        this._isBuffering = false;\n        this._updateBufferModel();\n      }\n      if (newState.type === this.player.State.BUFFERING) {\n        this._isBuffering = true;\n        this._bufferStartTime = Date.now();\n      }\n    }\n  }, {\n    key: '_updateSessionStartTimeModel',\n    value: function _updateSessionStartTimeModel(response) {\n      if (!this._model.getSessionStartTime() && response) {\n        if ((typeof response === 'undefined' ? 'undefined' : _typeof(response)) === 'object') {\n          this._model.updateModel({ sessionStartTime: response.time });\n          this._viewEventEnabled = response.viewEventEnabled;\n        } else {\n          this._model.updateModel({ sessionStartTime: response });\n        }\n      }\n      if (this._timer.isStopped()) {\n        this._model.updateModel({ sessionStartTime: null });\n      }\n    }\n  }, {\n    key: '_updateBufferModel',\n    value: function _updateBufferModel() {\n      var duration = Kava._getTimeDifferenceInSeconds(this._bufferStartTime);\n      this._model.updateModel({\n        bufferTime: this._model.getBufferTime() + duration,\n        bufferTimeSum: this._model.getBufferTimeSum() + duration\n      });\n    }\n  }, {\n    key: '_updatePlayTimeSumModel',\n    value: function _updatePlayTimeSumModel() {\n      var delta = this.player.currentTime - this._previousCurrentTime;\n      this._model.updateModel({ playTimeSum: this._model.getPlayTimeSum() + delta });\n      this._previousCurrentTime = this.player.currentTime;\n    }\n  }, {\n    key: '_setModelDelegates',\n    value: function _setModelDelegates() {\n      var _this4 = this;\n\n      this._model.getActualBitrate = function () {\n        return _this4._rateHandler.getCurrent();\n      };\n      this._model.getAverageBitrate = function () {\n        return _this4._rateHandler.getAverage();\n      };\n      this._model.getPartnerId = function () {\n        return _this4.config.partnerId;\n      };\n      this._model.getEntryId = function () {\n        return _this4.config.entryId;\n      };\n      this._model.getSessionId = function () {\n        return _this4.config.sessionId;\n      };\n      this._model.getClientVer = function () {\n        return _this4.config.playerVersion;\n      };\n      this._model.getClientTag = function () {\n        return \"html5:v\" + _this4.config.playerVersion;\n      };\n      this._model.getKS = function () {\n        return _this4.config.ks;\n      };\n      this._model.getUIConfId = function () {\n        return _this4.config.uiConfId;\n      };\n      this._model.getReferrer = function () {\n        return btoa(_this4.config.referrer);\n      };\n      this._model.getCustomVar1 = function () {\n        return _this4.config.customVar1;\n      };\n      this._model.getCustomVar2 = function () {\n        return _this4.config.customVar2;\n      };\n      this._model.getCustomVar3 = function () {\n        return _this4.config.customVar3;\n      };\n      this._model.getPosition = function () {\n        return _this4._getPosition();\n      };\n      this._model.getDeliveryType = function () {\n        return _this4._getDeliveryType();\n      };\n      this._model.getPlaybackType = function () {\n        return _this4._getPlaybackType();\n      };\n    }\n  }, {\n    key: '_getPosition',\n    value: function _getPosition() {\n      if (this.player.isLive()) {\n        if (this.player.duration - this.player.currentTime < 1) {\n          return 0;\n        }\n        return -(this.player.duration - this.player.currentTime);\n      }\n      return this.player.currentTime;\n    }\n  }, {\n    key: '_getDeliveryType',\n    value: function _getDeliveryType() {\n      if (this.player.streamType === this.player.StreamType.PROGRESSIVE) {\n        return \"url\";\n      }\n      return this.player.streamType;\n    }\n  }, {\n    key: '_getPlaybackType',\n    value: function _getPlaybackType() {\n      if (this.player.isLive() && this.player.isDvr()) {\n        var distanceFromLiveEdge = this.player.duration - this.player.currentTime;\n        if (distanceFromLiveEdge >= this.config.dvrThreshold) {\n          return \"dvr\";\n        }\n      }\n      if (this.player.config.sources.type) {\n        return this.player.config.sources.type.toString().toLowerCase();\n      }\n      return '';\n    }\n  }, {\n    key: '_validate',\n    value: function _validate() {\n      if (!this.config.partnerId) {\n        Kava._logMissingParam(\"partnerId\");\n        return false;\n      }\n      if (!this.config.entryId) {\n        Kava._logMissingParam(\"entryId\");\n        return false;\n      }\n      return true;\n    }\n  }], [{\n    key: '_getTimeDifferenceInSeconds',\n    value: function _getTimeDifferenceInSeconds(time) {\n      return (Date.now() - time) / 1000.0;\n    }\n  }, {\n    key: '_logMissingParam',\n    value: function _logMissingParam(missingParam) {\n      this.logger.warn('Kava analytics block report because of missing param ' + missingParam);\n    }\n  }]);\n\n  return Kava;\n}(_playkitJs.BasePlugin);\n\nKava.defaultConfig = {\n  serviceUrl: '//analytics.kaltura.com/api_v3/index.php',\n  viewEventCountdown: 10,\n  resetSessionCountdown: 30,\n  dvrThreshold: 120000\n};\nexports.default = Kava;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.analytics=t():(e.playkit=e.playkit||{},e.playkit.services=e.playkit.services||{},e.playkit.services.analytics=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=15)}([function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=u},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OVPConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),u={serviceUrl:\"https://cdnapisec.kaltura.com\",cdnUrl:\"//cdnapisec.kaltura.com\",serviceParams:{apiVersion:\"3.3.0\",format:1}},a=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(u,e)}},{key:\"get\",value:function(){return(0,i.clone)(u)}}]),e}();t.default=a,t.OVPConfiguration=a},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):t.error&&\"KalturaAPIException\"===t.error.objectType?(this.hasError=!0,this.error=new i(t.error.code,t.error.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),f=n(5),p=r(f),v=n(2),y=r(v),d=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.requests=[],o=n,u(r,o)}return a(t,e),c(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(l.default);d._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=d;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new y.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},function(e,t,n){\"use strict\";function r(e){return e?a.get(e):a}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var u=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c={DEBUG:a.DEBUG,INFO:a.INFO,TIME:a.TIME,WARN:a.WARN,ERROR:a.ERROR,OFF:a.OFF};a.useDefaults({defaultLevel:a.ERROR}),t.default=r,t.LogLevel=c,t.getLogLevel=o,t.setLogLevel=i},function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var u={};u.VERSION=\"1.4.1\";var a,c={},s=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};u.DEBUG=f(1,\"DEBUG\"),u.INFO=f(2,\"INFO\"),u.TIME=f(3,\"TIME\"),u.WARN=f(4,\"WARN\"),u.ERROR=f(8,\"ERROR\"),u.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"end\"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var v=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){v.setLevel(e);for(var t in c)c.hasOwnProperty(t)&&c[t].setLevel(e)},u.getLevel=function(){return v.getLevel()},u.get=function(e){return c[e]||(c[e]=new p(l({name:e},v.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info?a=console.info:o.level===u.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),c=n(1),s=r(c),l=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t,n){var r=s.default.get(),o=r.serviceParams;Object.assign(o,{ks:t,clientTag:\"html5:v\"+e}),n&&Object.assign(o,{partnerId:n});var i=new Map;i.set(\"Content-Type\",\"application/json\");var u=new a.default(i);return u.method=\"POST\",u.service=\"multirequest\",u.url=u.getUrl(r.serviceUrl),u.params=o,u}}]),e}();t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(e){var t=[],n=/\\[\\]$/,o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},i=function(e,n){n=\"function\"==typeof n?n():null===n?\"\":void 0===n?\"\":n,t[t.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(n)};return function e(u,a){var c=void 0,s=void 0,l=void 0;if(u)if(o(a))for(c=0,s=a.length;c<s;c++)n.test(u)?i(u,a[c]):e(u+\":\"+(\"object\"===r(a[c])?c:\"\"),a[c]);else if(a&&\"[object Object]\"===String(a))for(l in a)e(u+\":\"+l,a[l]);else i(u,a);else if(o(a))for(c=0,s=a.length;c<s;c++)i(a[c].name,a[c].value);else for(l in a)e(l,a[l]);return t}(\"\",e).join(\"&\").replace(/%20/g,\"+\")};t.param=o},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(8),s=r(c),l=n(0),f=r(l),p=n(1),v=r(p),y=n(9),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:\"trackEvent\",value:function(e,t){var n=v.default.get(),r={};Object.assign(r,n.serviceParams,t);var o=new f.default;return o.service=\"analytics\",o.action=\"trackEvent\",o.method=\"GET\",o.tag=\"analytics-trackEvent\",o.params=r,o.url=e+\"?service=\"+o.service+\"&action=\"+o.action+\"&\"+(0,y.param)(o.params),o}}]),t}(s.default);t.default=d},,,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPAnalyticsService=void 0;var o=n(0),i=r(o),u=n(1),a=r(u),c=n(11),s=r(c);t.OVPAnalyticsService=s.default,t.OVPConfiguration=a.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-analytics-service\",t.VERSION=\"2.3.2\"}])});\n//# sourceMappingURL=playkit-analytics-service.js.map\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Manage the video rates for the KAVA plugin.\n * @constructor\n */\nvar KavaRateHandler = function () {\n  function KavaRateHandler() {\n    _classCallCheck(this, KavaRateHandler);\n\n    this._rates = [];\n    this._isSwitchedToAbrMode = false;\n\n    this._rates = [];\n    this._isSwitchedToAbrMode = false;\n  }\n\n  /**\n   * Sets the video rates.\n   * @param {Array<number>} rates - The video rates.\n   * @public\n   * @returns {void}\n   */\n\n\n  _createClass(KavaRateHandler, [{\n    key: \"setRates\",\n    value: function setRates(rates) {\n      var _this = this;\n\n      this._rates = [];\n      rates.forEach(function (rate) {\n        _this._rates.push({\n          rate: rate,\n          active: false,\n          duration: 0\n        });\n      });\n    }\n\n    /**\n     * Sets the current rate.\n     * @param {number} rate - The current rate.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"setCurrent\",\n    value: function setCurrent(rate) {\n      if (rate === 0) {\n        this._isSwitchedToAbrMode = true;\n      } else {\n        this._rates.forEach(function (o) {\n          return o.active = false;\n        });\n        var obj = this._rates.find(function (o) {\n          return o.rate === rate;\n        });\n        if (obj) {\n          obj.active = true;\n        }\n      }\n    }\n\n    /**\n     * Gets the current rate.\n     * @public\n     * @returns {number} - The current rate.\n     */\n\n  }, {\n    key: \"getCurrent\",\n    value: function getCurrent() {\n      if (this._isSwitchedToAbrMode) {\n        this._isSwitchedToAbrMode = false;\n        return 0;\n      }\n      var current = this._rates.find(function (o) {\n        return o.active;\n      });\n      return current ? current.rate : -1;\n    }\n\n    /**\n     * Increases the duration of the current rate.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"countCurrent\",\n    value: function countCurrent() {\n      var current = this._rates.find(function (o) {\n        return o.active;\n      });\n      if (current) {\n        current.duration++;\n      }\n    }\n\n    /**\n     * Gets the average rate.\n     * @public\n     * @returns {number} - The average rate.\n     */\n\n  }, {\n    key: \"getAverage\",\n    value: function getAverage() {\n      var totalDuration = 0;\n      var sum = 0;\n      this._rates.forEach(function (o) {\n        sum += o.rate * o.duration;\n        totalDuration += o.duration;\n      });\n      return totalDuration ? sum / totalDuration : 0;\n    }\n\n    /**\n     * Resets the duration of all rates.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._rates.forEach(function (o) {\n        return o.duration = 0;\n      });\n    }\n\n    /**\n     * Destroys the class.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._rates = [];\n    }\n  }]);\n\n  return KavaRateHandler;\n}();\n\nexports.default = KavaRateHandler;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _playkitJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SECOND = 1000;\n\n/**\n * Mange a timer and dispatches related events.\n * @constructor\n * @param {Object} config - The timer config.\n */\n\nvar KavaTimer = function (_FakeEventTarget) {\n  _inherits(KavaTimer, _FakeEventTarget);\n\n  function KavaTimer(config) {\n    _classCallCheck(this, KavaTimer);\n\n    var _this = _possibleConstructorReturn(this, (KavaTimer.__proto__ || Object.getPrototypeOf(KavaTimer)).call(this));\n\n    _this._config = config;\n    return _this;\n  }\n\n  /**\n   * Starts the timer interval.\n   * @public\n   * @returns {void}\n   */\n\n\n  _createClass(KavaTimer, [{\n    key: \"start\",\n    value: function start() {\n      var _this2 = this;\n\n      this._clearTimeout();\n      this._stopped = false;\n      this._resetCounter = 0;\n      this._eventCounter = 0;\n      this._intervalId = setInterval(function () {\n        return _this2._monitor();\n      }, SECOND);\n    }\n\n    /**\n     * Continues the timer to dispatch REPORT.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this._stopped = false;\n      this._resetCounter = 0;\n    }\n\n    /**\n     * Stops the timer from dispatch REPORT and starts the timer to dispatch RESET.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this._stopped = true;\n    }\n\n    /**\n     * @public\n     * @returns {boolean} - Whether the timer is stopped.\n     */\n\n  }, {\n    key: \"isStopped\",\n    value: function isStopped() {\n      return this._stopped;\n    }\n\n    /**\n     * Destroys the timer.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._clearTimeout();\n    }\n  }, {\n    key: \"_clearTimeout\",\n    value: function _clearTimeout() {\n      if (this._intervalId) {\n        clearInterval(this._intervalId);\n        this._intervalId = null;\n      }\n    }\n  }, {\n    key: \"_monitor\",\n    value: function _monitor() {\n      if (this._stopped) {\n        if (this._resetCounter === this._config.resetCounter) {\n          this.dispatchEvent(new _playkitJs.FakeEvent(KavaTimer.Event.RESET));\n          this._resetCounter = 0;\n          this._eventCounter = 0;\n        }\n        this._resetCounter++;\n      } else {\n        this.dispatchEvent(new _playkitJs.FakeEvent(KavaTimer.Event.TICK));\n        if (this._eventCounter === this._config.eventCounter) {\n          this.dispatchEvent(new _playkitJs.FakeEvent(KavaTimer.Event.REPORT));\n          this._eventCounter = 0;\n        }\n        this._eventCounter++;\n      }\n    }\n  }]);\n\n  return KavaTimer;\n}(_playkitJs.FakeEventTarget);\n\nKavaTimer.Event = {\n  TICK: \"tick\",\n  RESET: \"reset\",\n  REPORT: \"report\"\n};\nexports.default = KavaTimer;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// playkit-kava.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac9483442d20d22ce295","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":[\"KalturaPlayer\",\"core\"]}\n// module id = 0\n// module chunks = 0","// @flow\nimport KavaModel from './kava-model'\n\nexport const KavaEventModel: { [event: string]: KavaEvent } = {\n  VIEW: {\n    type: \"VIEW\",\n    index: 99,\n    getEventModel: (model: KavaModel) => ({\n      playTimeSum: model.getPlayTimeSum(),\n      bufferTime: model.getBufferTime(),\n      bufferTimeSum: model.getBufferTimeSum(),\n      actualBitrate: model.getActualBitrate(),\n      averageBitrate: model.getAverageBitrate()\n    })\n  },\n  IMPRESSION: {\n    type: \"IMPRESSION\",\n    index: 1,\n    getEventModel: () => ({})\n  },\n  PLAY_REQUEST: {\n    type: \"PLAY_REQUEST\",\n    index: 2,\n    getEventModel: () => ({})\n  },\n  PLAY: {\n    type: \"PLAY\",\n    index: 3,\n    getEventModel: (model: KavaModel) => ({\n      bufferTime: model.getBufferTime(),\n      bufferTimeSum: model.getBufferTimeSum(),\n      actualBitrate: model.getActualBitrate(),\n      joinTime: model.getJoinTime()\n    })\n  },\n  RESUME: {\n    type: \"RESUME\",\n    index: 4,\n    getEventModel: (model: KavaModel) => ({\n      bufferTime: model.getBufferTime(),\n      bufferTimeSum: model.getBufferTimeSum(),\n      actualBitrate: model.getActualBitrate()\n    })\n  },\n  PAUSE: {\n    type: \"PAUSE\",\n    index: 33,\n    getEventModel: () => ({})\n  },\n  REPLAY: {\n    type: \"REPLAY\",\n    index: 34,\n    getEventModel: () => ({})\n  },\n  SEEK: {\n    type: \"SEEK\",\n    index: 35,\n    getEventModel: (model: KavaModel) => ({\n      targetPosition: model.getTargetPosition()\n    })\n  },\n  PLAY_REACHED_25_PERCENT: {\n    type: \"PLAY_REACHED_25_PERCENT\",\n    index: 11,\n    getEventModel: () => ({})\n  },\n  PLAY_REACHED_50_PERCENT: {\n    type: \"PLAY_REACHED_50_PERCENT\",\n    index: 12,\n    getEventModel: () => ({})\n  },\n  PLAY_REACHED_75_PERCENT: {\n    type: \"PLAY_REACHED_75_PERCENT\",\n    index: 13,\n    getEventModel: () => ({})\n  },\n  PLAY_REACHED_100_PERCENT: {\n    type: \"PLAY_REACHED_100_PERCENT\",\n    index: 14,\n    getEventModel: () => ({})\n  },\n  SOURCE_SELECTED: {\n    type: \"SOURCE_SELECTED\",\n    index: 39,\n    getEventModel: (model: KavaModel) => ({\n      actualBitrate: model.getActualBitrate()\n    })\n  },\n  AUDIO_SELECTED: {\n    type: \"AUDIO_SELECTED\",\n    index: 42,\n    getEventModel: (model: KavaModel) => ({\n      language: model.getLanguage()\n    })\n  },\n  FLAVOR_SWITCH: {\n    type: \"FLAVOR_SWITCH\",\n    index: 43,\n    getEventModel: (model: KavaModel) => ({\n      actualBitrate: model.getActualBitrate()\n    })\n  },\n  CAPTIONS: {\n    type: \"CAPTIONS\",\n    index: 38,\n    getEventModel: (model: KavaModel) => ({\n      caption: model.getCaption()\n    })\n  },\n  ERROR: {\n    type: \"ERROR\",\n    index: 98,\n    getEventModel: (model: KavaModel) => ({\n      errorCode: model.getErrorCode()\n    })\n  }\n};\n\n/**\n * Gets the full event model for a certain event object including the common params.\n * @param {KavaEvent} eventObj - The event model.\n * @param {KavaModel} model - The plugin model store.\n * @returns {Object} - The full event model.\n */\nexport function getEventModel(eventObj: KavaEvent, model: KavaModel): Object {\n  const commonModel: Object = {\n    eventType: eventObj.index,\n    partnerId: model.getPartnerId(),\n    entryId: model.getEntryId(),\n    sessionId: model.getSessionId(),\n    eventIndex: model.getEventIndex(),\n    referrer: model.getReferrer(),\n    deliveryType: model.getDeliveryType(),\n    playbackType: model.getPlaybackType(),\n    clientVer: model.getClientVer(),\n    clientTag: model.getClientTag(),\n    position: model.getPosition()\n  };\n  if (model.getSessionStartTime()) {\n    commonModel.sessionStartTime = model.getSessionStartTime();\n  }\n  if (model.getKS()) {\n    commonModel.ks = model.getKS();\n  }\n  if (model.getUIConfId()) {\n    commonModel.uiConfId = model.getUIConfId();\n  }\n  if (model.getCustomVar1()) {\n    commonModel.customVar1 = model.getCustomVar1();\n  }\n  if (model.getCustomVar2()) {\n    commonModel.customVar2 = model.getCustomVar2();\n  }\n  if (model.getCustomVar3()) {\n    commonModel.customVar3 = model.getCustomVar3();\n  }\n  const eventModel = eventObj.getEventModel(model);\n  return Object.assign(eventModel, commonModel);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-event-model.js","// @flow\nimport {getEventModel} from './kava-event-model'\n\n/**\n * The KAVA model that stores data.\n * @constructor\n * @param {?Object} - Initial model.\n */\nexport default class KavaModel {\n  sessionStartTime: number;\n  eventIndex: number;\n  playTimeSum: number;\n  bufferTime: number;\n  bufferTimeSum: number;\n  language: string;\n  caption: string;\n  errorCode: number;\n  joinTime: number;\n  targetPosition: number;\n  getActualBitrate: Function;\n  getAverageBitrate: Function;\n  getPartnerId: Function;\n  getEntryId: Function;\n  getSessionId: Function;\n  getClientVer: Function;\n  getClientTag: Function;\n  getKS: Function;\n  getUIConfId: Function;\n  getReferrer: Function;\n  getCustomVar1: Function;\n  getCustomVar2: Function;\n  getCustomVar3: Function;\n  getPosition: Function;\n  getDeliveryType: Function;\n  getPlaybackType: Function;\n\n  constructor(model?: Object) {\n    if (model) {\n      this.updateModel(model);\n    }\n  }\n\n  /**\n   * Gets the total play time.\n   * @returns {number} - The play time sum.\n   */\n  getPlayTimeSum(): number {\n    return this.playTimeSum;\n  }\n\n  /**\n   * Gets the buffer time.\n   * @returns {number} - The buffer time.\n   */\n  getBufferTime(): number {\n    return this.bufferTime;\n  }\n\n  /**\n   * Gets the total buffer time.\n   * @returns {number} - The total buffer time.\n   */\n  getBufferTimeSum(): number {\n    return this.bufferTimeSum;\n  }\n\n  /**\n   * Gets the join time.\n   * @returns {number} - The join time.\n   */\n  getJoinTime(): number {\n    return this.joinTime;\n  }\n\n  /**\n   * Gets a target position\n   * @returns {number} - The target position.\n   */\n  getTargetPosition(): number {\n    return this.targetPosition;\n  }\n\n  /**\n   * Gets an audio language.\n   * @returns {string} - The audio language.\n   */\n  getLanguage(): string {\n    return this.language;\n  }\n\n  /**\n   * Gets a caption language.\n   * @returns {string} - The caption language.\n   */\n  getCaption(): string {\n    return this.caption;\n  }\n\n  /**\n   * Gets the error code.\n   * @returns {number} - The error code.\n   */\n  getErrorCode(): number {\n    return this.errorCode;\n  }\n\n  /**\n   * Gets the event index counter.\n   * @returns {number} - The event index counter.\n   */\n  getEventIndex(): number {\n    return this.eventIndex;\n  }\n\n  /**\n   * Gets the session start time.\n   * @returns {number} - The session start time.\n   */\n  getSessionStartTime(): number {\n    return this.sessionStartTime;\n  }\n\n  /**\n   * Updates the model.\n   * @param {Object} obj - A partial or full updated model.\n   * @returns {void}\n   */\n  updateModel(obj: Object): void {\n    Object.assign(this, obj);\n  }\n\n  /**\n   * Gets the model for a certain event.\n   * @param {KavaEvent} eventObj - The event object.\n   * @returns {Object} - The event model.\n   */\n  getModel(eventObj: KavaEvent): Object {\n    return getEventModel(eventObj, this);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-model.js","// @flow\nimport {registerPlugin} from 'playkit-js'\nimport Kava from './kava'\n\ndeclare var __VERSION__: string;\ndeclare var __NAME__: string;\n\nexport default Kava;\nexport {__VERSION__ as VERSION, __NAME__ as NAME};\n\nconst pluginName: string = \"kava\";\n\nregisterPlugin(pluginName, Kava);\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// @flow\nimport {BasePlugin, FakeEvent} from 'playkit-js'\nimport {OVPAnalyticsService} from 'playkit-js-providers/dist/playkit-analytics-service'\nimport {KavaEventModel} from './kava-event-model'\nimport KavaRateHandler from './kava-rate-handler'\nimport KavaTimer from './kava-timer'\nimport KavaModel from './kava-model'\n\n/**\n * KAVA (Kaltura Advanced Analytics) plugin class.\n * @constructor\n * @param {string} name - The plugin name.\n * @param {Player} player - The player instance.\n * @param {Object} config - The plugin config.\n */\nexport default class Kava extends BasePlugin {\n  _model: KavaModel;\n  _timer: KavaTimer;\n  _rateHandler: KavaRateHandler;\n  _viewEventEnabled: boolean;\n  _firstPlayRequestTime: number;\n  _bufferStartTime: number;\n  _previousCurrentTime: number;\n  _isFirstPlay: boolean;\n  _isEnded: boolean;\n  _isPaused: boolean;\n  _isBuffering: boolean;\n  _timePercentEvent: { [time: string]: boolean };\n\n  /**\n   * The default config of the plugin.\n   * @type {Object}\n   * @static\n   */\n  static defaultConfig: Object = {\n    serviceUrl: '//analytics.kaltura.com/api_v3/index.php',\n    viewEventCountdown: 10,\n    resetSessionCountdown: 30,\n    dvrThreshold: 120000\n  };\n\n  /**\n   * Runs the plugin validation logic.\n   * @type {Object}\n   * @static\n   * @return {boolean} - Whether the plugin is valid or not.\n   */\n  static isValid(): boolean {\n    return true;\n  }\n\n  constructor(name: string, player: Player, config: Object) {\n    super(name, player, config);\n    this._rateHandler = new KavaRateHandler();\n    this._model = new KavaModel();\n    this._setModelDelegates();\n    this._timer = new KavaTimer({\n      resetCounter: this.config.resetSessionCountdown,\n      eventCounter: this.config.viewEventCountdown\n    });\n    this._viewEventEnabled = true;\n    this._resetFlags();\n    this._addBindings();\n    this._model.updateModel({\n      eventIndex: 1,\n      bufferTime: .0,\n      bufferTimeSum: .0,\n      playTimeSum: .0\n    });\n  }\n\n  /**\n   * Runs the destroy logic of the plugin.\n   * @public\n   * @return {void}\n   */\n  destroy(): void {\n    this.eventManager.destroy();\n    this._timer.destroy();\n    this._rateHandler.destroy();\n  }\n\n  /**\n   * Runs the reset logic of the plugin.\n   * @public\n   * @return {void}\n   */\n  reset(): void {\n    this.eventManager.removeAll();\n    this._rateHandler.destroy();\n    this._timer.destroy();\n    this._resetFlags();\n    this._addBindings();\n    this._model.updateModel({\n      eventIndex: 1,\n      bufferTime: .0,\n      bufferTimeSum: .0,\n      playTimeSum: .0,\n      sessionStartTime: null\n    });\n  }\n\n  _resetFlags(): void {\n    this._previousCurrentTime = 0;\n    this._isFirstPlay = true;\n    this._isEnded = false;\n    this._isPaused = false;\n    this._isBuffering = false;\n    this._timePercentEvent = {\n      PLAY_REACHED_25_PERCENT: false,\n      PLAY_REACHED_50_PERCENT: false,\n      PLAY_REACHED_75_PERCENT: false,\n      PLAY_REACHED_100_PERCENT: false\n    };\n  }\n\n  _resetSession(): void {\n    this.logger.debug(\"Reset KAVA session\");\n    this._rateHandler.reset();\n    this._model.updateModel({\n      eventIndex: 1,\n      bufferTimeSum: .0,\n      playTimeSum: .0\n    });\n  }\n\n  _sendAnalytics(eventObj: KavaEvent): void {\n    if (!this._validate()) {\n      return;\n    }\n\n    this._updatePlayTimeSumModel();\n    if (this._isBuffering) {\n      this._updateBufferModel();\n      this._bufferStartTime = Date.now();\n    }\n\n    const model = this._model.getModel(eventObj);\n    OVPAnalyticsService.trackEvent(this.config.serviceUrl, model).doHttpRequest()\n      .then(response => {\n        this.logger.debug(`KAVA event sent`, eventObj.type, model);\n        this._updateSessionStartTimeModel(response);\n      }, err => {\n        this.logger.error(`Failed to send KAVA event`, eventObj.type, model, err);\n      });\n    this._model.updateModel({eventIndex: this._model.getEventIndex() + 1});\n  }\n\n  _addBindings(): void {\n    this.eventManager.listen(this._timer, KavaTimer.Event.TICK, () => this._rateHandler.countCurrent());\n    this.eventManager.listen(this._timer, KavaTimer.Event.REPORT, () => this._onReport());\n    this.eventManager.listen(this._timer, KavaTimer.Event.RESET, () => this._resetSession());\n    this.eventManager.listen(this.player, this.player.Event.SOURCE_SELECTED, () => this._onSourceSelected());\n    this.eventManager.listen(this.player, this.player.Event.ERROR, (event) => this._onError(event));\n    this.player.ready().then(() => {\n      this._setInitialTracks();\n      this.eventManager.listen(this.player, this.player.Event.PLAYING, () => this._onPlaying());\n      this.eventManager.listen(this.player, this.player.Event.FIRST_PLAY, () => this._onFirstPlay());\n      this.eventManager.listen(this.player, this.player.Event.SEEKING, () => this._onSeeking());\n      this.eventManager.listen(this.player, this.player.Event.PAUSE, () => this._onPause());\n      this.eventManager.listen(this.player, this.player.Event.ENDED, () => this._onEnded());\n      this.eventManager.listen(this.player, this.player.Event.TIME_UPDATE, () => this._onTimeUpdate());\n      this.eventManager.listen(this.player, this.player.Event.VIDEO_TRACK_CHANGED, (event) => this._onVideoTrackChanged(event));\n      this.eventManager.listen(this.player, this.player.Event.ABR_MODE_CHANGED, (event) => this._onAbrModeChanged(event));\n      this.eventManager.listen(this.player, this.player.Event.AUDIO_TRACK_CHANGED, (event) => this._onAudioTrackChanged(event));\n      this.eventManager.listen(this.player, this.player.Event.TEXT_TRACK_CHANGED, (event) => this._onTextTrackChanged(event));\n      this.eventManager.listen(this.player, this.player.Event.PLAYER_STATE_CHANGED, (event) => this._onPlayerStateChanged(event));\n    });\n  }\n\n  _getRates(): Array<number> {\n    const rates = [];\n    const videoTracks = this.player.getTracks(this.player.Track.VIDEO);\n    videoTracks.forEach(videoTrack => rates.push(videoTrack.bandwidth));\n    return rates;\n  }\n\n  _setInitialTracks(): void {\n    const rates = this._getRates();\n    const activeTracks = this.player.getActiveTracks();\n    this._rateHandler.setRates(rates);\n    this._rateHandler.setCurrent(activeTracks.video.bandwidth);\n    if (activeTracks.audio) {\n      this._model.updateModel({language: activeTracks.audio.language});\n    }\n    if (activeTracks.text) {\n      this._model.updateModel({caption: activeTracks.text.language});\n    }\n  }\n\n  _onReport(): void {\n    if (this._viewEventEnabled) {\n      this._sendAnalytics(KavaEventModel.VIEW);\n    } else {\n      this.logger.warn(`VIEW event blocked because server response of viewEventsEnabled=false`);\n    }\n    this._model.updateModel({bufferTime: 0});\n  }\n\n  _onPlaying(): void {\n    if (this._isFirstPlay) {\n      this._timer.start();\n      this._isFirstPlay = false;\n      this._model.updateModel({joinTime: Kava._getTimeDifferenceInSeconds(this._firstPlayRequestTime)});\n      this._sendAnalytics(KavaEventModel.PLAY);\n    } else if (this._isEnded) {\n      this._timer.start();\n      this._isEnded = false;\n      this._sendAnalytics(KavaEventModel.REPLAY);\n    } else if (this._isPaused) {\n      this._timer.resume();\n      this._isPaused = false;\n      this._sendAnalytics(KavaEventModel.RESUME);\n    }\n  }\n\n  _onFirstPlay(): void {\n    this._firstPlayRequestTime = Date.now();\n    this._sendAnalytics(KavaEventModel.PLAY_REQUEST);\n  }\n\n  _onSourceSelected(): void {\n    this._sendAnalytics(KavaEventModel.IMPRESSION);\n  }\n\n  _onSeeking(): void {\n    this._previousCurrentTime = this.player.currentTime;\n    this._model.updateModel({targetPosition: this.player.currentTime});\n    this._sendAnalytics(KavaEventModel.SEEK);\n  }\n\n  _onPause(): void {\n    this._isPaused = true;\n    this._timer.stop();\n    this._sendAnalytics(KavaEventModel.PAUSE);\n  }\n\n  _onEnded(): void {\n    this._isEnded = true;\n    this._onTimeUpdate();\n    this._model.updateModel({bufferTime: 0});\n  }\n\n  _onTimeUpdate(): void {\n    this._updatePlayTimeSumModel();\n    const percent = this.player.currentTime / this.player.duration;\n    if (!this._timePercentEvent.PLAY_REACHED_25 && percent >= .25) {\n      this._timePercentEvent.PLAY_REACHED_25 = true;\n      this._sendAnalytics(KavaEventModel.PLAY_REACHED_25_PERCENT);\n    }\n    if (!this._timePercentEvent.PLAY_REACHED_50 && percent >= .50) {\n      this._timePercentEvent.PLAY_REACHED_50 = true;\n      this._sendAnalytics(KavaEventModel.PLAY_REACHED_50_PERCENT);\n    }\n    if (!this._timePercentEvent.PLAY_REACHED_75 && percent >= .75) {\n      this._timePercentEvent.PLAY_REACHED_75 = true;\n      this._sendAnalytics(KavaEventModel.PLAY_REACHED_75_PERCENT);\n    }\n    if (!this._timePercentEvent.PLAY_REACHED_100 && percent === 1) {\n      this._timePercentEvent.PLAY_REACHED_100 = true;\n      this._sendAnalytics(KavaEventModel.PLAY_REACHED_100_PERCENT);\n    }\n  }\n\n  _onVideoTrackChanged(event: FakeEvent): void {\n    const videoTrack = event.payload.selectedVideoTrack;\n    this._rateHandler.setCurrent(videoTrack.bandwidth);\n    if (!this.player.isAdaptiveBitrateEnabled()) {\n      this._sendAnalytics(KavaEventModel.SOURCE_SELECTED);\n    } else {\n      this._sendAnalytics(KavaEventModel.FLAVOR_SWITCH);\n    }\n  }\n\n  _onAbrModeChanged(event: FakeEvent) {\n    const mode = event.payload.mode;\n    if (mode === this.player.AbrMode.AUTO) {\n      this._rateHandler.setCurrent(0);\n      this._sendAnalytics(KavaEventModel.SOURCE_SELECTED);\n    }\n  }\n\n  _onAudioTrackChanged(event: FakeEvent): void {\n    const audioTrack = event.payload.selectedVideoTrack;\n    this._model.updateModel({language: audioTrack.language});\n    this._sendAnalytics(KavaEventModel.AUDIO_SELECTED);\n  }\n\n  _onTextTrackChanged(event: FakeEvent): void {\n    const textTrack = event.payload.selectedTextTrack;\n    this._model.updateModel({caption: textTrack.language});\n    this._sendAnalytics(KavaEventModel.CAPTIONS);\n  }\n\n  _onError(event: FakeEvent): void {\n    this._model.updateModel({errorCode: event.payload.code});\n    this._sendAnalytics(KavaEventModel.ERROR);\n  }\n\n  _onPlayerStateChanged(event: FakeEvent): void {\n    const oldState = event.payload.oldState;\n    const newState = event.payload.newState;\n    if (oldState.type === this.player.State.BUFFERING) {\n      this._isBuffering = false;\n      this._updateBufferModel();\n    }\n    if (newState.type === this.player.State.BUFFERING) {\n      this._isBuffering = true;\n      this._bufferStartTime = Date.now();\n    }\n  }\n\n  _updateSessionStartTimeModel(response: Object | number): void {\n    if (!this._model.getSessionStartTime() && response) {\n      if (typeof response === 'object') {\n        this._model.updateModel({sessionStartTime: response.time});\n        this._viewEventEnabled = response.viewEventEnabled;\n      } else {\n        this._model.updateModel({sessionStartTime: response});\n      }\n    }\n    if (this._timer.isStopped()) {\n      this._model.updateModel({sessionStartTime: null});\n    }\n  }\n\n  _updateBufferModel(): void {\n    const duration = Kava._getTimeDifferenceInSeconds(this._bufferStartTime);\n    this._model.updateModel({\n      bufferTime: this._model.getBufferTime() + duration,\n      bufferTimeSum: this._model.getBufferTimeSum() + duration\n    });\n  }\n\n  _updatePlayTimeSumModel(): void {\n    const delta = this.player.currentTime - this._previousCurrentTime;\n    this._model.updateModel({playTimeSum: this._model.getPlayTimeSum() + delta});\n    this._previousCurrentTime = this.player.currentTime;\n  }\n\n  _setModelDelegates() {\n    this._model.getActualBitrate = () => this._rateHandler.getCurrent();\n    this._model.getAverageBitrate = () => this._rateHandler.getAverage();\n    this._model.getPartnerId = () => this.config.partnerId;\n    this._model.getEntryId = () => this.config.entryId;\n    this._model.getSessionId = () => this.config.sessionId;\n    this._model.getClientVer = () => this.config.playerVersion;\n    this._model.getClientTag = () => \"html5:v\" + this.config.playerVersion;\n    this._model.getKS = () => this.config.ks;\n    this._model.getUIConfId = () => this.config.uiConfId;\n    this._model.getReferrer = () => btoa(this.config.referrer);\n    this._model.getCustomVar1 = () => this.config.customVar1;\n    this._model.getCustomVar2 = () => this.config.customVar2;\n    this._model.getCustomVar3 = () => this.config.customVar3;\n    this._model.getPosition = () => this._getPosition();\n    this._model.getDeliveryType = () => this._getDeliveryType();\n    this._model.getPlaybackType = () => this._getPlaybackType();\n  }\n\n  _getPosition(): number {\n    if (this.player.isLive()) {\n      if (this.player.duration - this.player.currentTime < 1) {\n        return 0;\n      }\n      return -(this.player.duration - this.player.currentTime);\n    }\n    return this.player.currentTime;\n  }\n\n  _getDeliveryType(): string {\n    if (this.player.streamType === this.player.StreamType.PROGRESSIVE) {\n      return \"url\";\n    }\n    return this.player.streamType;\n  }\n\n  _getPlaybackType(): string {\n    if (this.player.isLive() && this.player.isDvr()) {\n      const distanceFromLiveEdge = this.player.duration - this.player.currentTime;\n      if (distanceFromLiveEdge >= this.config.dvrThreshold) {\n        return \"dvr\";\n      }\n    }\n    if (this.player.config.sources.type) {\n      return this.player.config.sources.type.toString().toLowerCase();\n    }\n    return '';\n  }\n\n  _validate(): boolean {\n    if (!this.config.partnerId) {\n      Kava._logMissingParam(\"partnerId\");\n      return false;\n    }\n    if (!this.config.entryId) {\n      Kava._logMissingParam(\"entryId\");\n      return false;\n    }\n    return true;\n  }\n\n  static _getTimeDifferenceInSeconds(time): number {\n    return (Date.now() - time) / 1000.0;\n  }\n\n  static _logMissingParam(missingParam: string): void {\n    this.logger.warn(`Kava analytics block report because of missing param ${missingParam}`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava.js","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.analytics=t():(e.playkit=e.playkit||{},e.playkit.services=e.playkit.services||{},e.playkit.services.analytics=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=15)}([function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=u},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OVPConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),u={serviceUrl:\"https://cdnapisec.kaltura.com\",cdnUrl:\"//cdnapisec.kaltura.com\",serviceParams:{apiVersion:\"3.3.0\",format:1}},a=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(u,e)}},{key:\"get\",value:function(){return(0,i.clone)(u)}}]),e}();t.default=a,t.OVPConfiguration=a},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):t.error&&\"KalturaAPIException\"===t.error.objectType?(this.hasError=!0,this.error=new i(t.error.code,t.error.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),f=n(5),p=r(f),v=n(2),y=r(v),d=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.requests=[],o=n,u(r,o)}return a(t,e),c(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(l.default);d._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=d;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new y.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},function(e,t,n){\"use strict\";function r(e){return e?a.get(e):a}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var u=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c={DEBUG:a.DEBUG,INFO:a.INFO,TIME:a.TIME,WARN:a.WARN,ERROR:a.ERROR,OFF:a.OFF};a.useDefaults({defaultLevel:a.ERROR}),t.default=r,t.LogLevel=c,t.getLogLevel=o,t.setLogLevel=i},function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var u={};u.VERSION=\"1.4.1\";var a,c={},s=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};u.DEBUG=f(1,\"DEBUG\"),u.INFO=f(2,\"INFO\"),u.TIME=f(3,\"TIME\"),u.WARN=f(4,\"WARN\"),u.ERROR=f(8,\"ERROR\"),u.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"end\"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var v=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){v.setLevel(e);for(var t in c)c.hasOwnProperty(t)&&c[t].setLevel(e)},u.getLevel=function(){return v.getLevel()},u.get=function(e){return c[e]||(c[e]=new p(l({name:e},v.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info?a=console.info:o.level===u.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),c=n(1),s=r(c),l=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t,n){var r=s.default.get(),o=r.serviceParams;Object.assign(o,{ks:t,clientTag:\"html5:v\"+e}),n&&Object.assign(o,{partnerId:n});var i=new Map;i.set(\"Content-Type\",\"application/json\");var u=new a.default(i);return u.method=\"POST\",u.service=\"multirequest\",u.url=u.getUrl(r.serviceUrl),u.params=o,u}}]),e}();t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(e){var t=[],n=/\\[\\]$/,o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},i=function(e,n){n=\"function\"==typeof n?n():null===n?\"\":void 0===n?\"\":n,t[t.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(n)};return function e(u,a){var c=void 0,s=void 0,l=void 0;if(u)if(o(a))for(c=0,s=a.length;c<s;c++)n.test(u)?i(u,a[c]):e(u+\":\"+(\"object\"===r(a[c])?c:\"\"),a[c]);else if(a&&\"[object Object]\"===String(a))for(l in a)e(u+\":\"+l,a[l]);else i(u,a);else if(o(a))for(c=0,s=a.length;c<s;c++)i(a[c].name,a[c].value);else for(l in a)e(l,a[l]);return t}(\"\",e).join(\"&\").replace(/%20/g,\"+\")};t.param=o},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(8),s=r(c),l=n(0),f=r(l),p=n(1),v=r(p),y=n(9),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:\"trackEvent\",value:function(e,t){var n=v.default.get(),r={};Object.assign(r,n.serviceParams,t);var o=new f.default;return o.service=\"analytics\",o.action=\"trackEvent\",o.method=\"GET\",o.tag=\"analytics-trackEvent\",o.params=r,o.url=e+\"?service=\"+o.service+\"&action=\"+o.action+\"&\"+(0,y.param)(o.params),o}}]),t}(s.default);t.default=d},,,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPAnalyticsService=void 0;var o=n(0),i=r(o),u=n(1),a=r(u),c=n(11),s=r(c);t.OVPAnalyticsService=s.default,t.OVPConfiguration=a.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-analytics-service\",t.VERSION=\"2.3.2\"}])});\n//# sourceMappingURL=playkit-analytics-service.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/playkit-js-providers/dist/playkit-analytics-service.js\n// module id = 5\n// module chunks = 0","// @flow\n\n/**\n * Manage the video rates for the KAVA plugin.\n * @constructor\n */\nexport default class KavaRateHandler {\n  _rates: Array<Object> = [];\n  _isSwitchedToAbrMode: boolean = false;\n\n  constructor() {\n    this._rates = [];\n    this._isSwitchedToAbrMode = false;\n  }\n\n  /**\n   * Sets the video rates.\n   * @param {Array<number>} rates - The video rates.\n   * @public\n   * @returns {void}\n   */\n  setRates(rates: Array<number>): void {\n    this._rates = [];\n    rates.forEach(rate => {\n      this._rates.push({\n        rate: rate,\n        active: false,\n        duration: 0\n      });\n    });\n  }\n\n  /**\n   * Sets the current rate.\n   * @param {number} rate - The current rate.\n   * @public\n   * @returns {void}\n   */\n  setCurrent(rate: number): void {\n    if (rate === 0) {\n      this._isSwitchedToAbrMode = true;\n    } else {\n      this._rates.forEach(o => o.active = false);\n      const obj = this._rates.find(o => o.rate === rate);\n      if (obj) {\n        obj.active = true;\n      }\n    }\n  }\n\n  /**\n   * Gets the current rate.\n   * @public\n   * @returns {number} - The current rate.\n   */\n  getCurrent(): number {\n    if (this._isSwitchedToAbrMode) {\n      this._isSwitchedToAbrMode = false;\n      return 0;\n    }\n    const current = this._rates.find(o => o.active);\n    return current ? current.rate : -1;\n  }\n\n  /**\n   * Increases the duration of the current rate.\n   * @public\n   * @returns {void}\n   */\n  countCurrent(): void {\n    const current = this._rates.find(o => o.active);\n    if (current) {\n      current.duration++;\n    }\n  }\n\n  /**\n   * Gets the average rate.\n   * @public\n   * @returns {number} - The average rate.\n   */\n  getAverage(): number {\n    let totalDuration = 0;\n    let sum = 0;\n    this._rates.forEach(o => {\n      sum += (o.rate * o.duration);\n      totalDuration += o.duration;\n    });\n    return totalDuration ? sum / totalDuration : 0;\n  }\n\n  /**\n   * Resets the duration of all rates.\n   * @public\n   * @returns {void}\n   */\n  reset(): void {\n    this._rates.forEach(o => o.duration = 0);\n  }\n\n  /**\n   * Destroys the class.\n   * @public\n   * @returns {void}\n   */\n  destroy(): void {\n    this._rates = [];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-rate-handler.js","// @flow\nimport {FakeEvent, FakeEventTarget} from 'playkit-js'\n\nconst SECOND: number = 1000;\n\n/**\n * Mange a timer and dispatches related events.\n * @constructor\n * @param {Object} config - The timer config.\n */\nexport default class KavaTimer extends FakeEventTarget {\n  _resetCounter: number;\n  _eventCounter: number;\n  _intervalId: ?number;\n  _stopped: boolean;\n  _config: Object;\n\n  static Event = {\n    TICK: \"tick\",\n    RESET: \"reset\",\n    REPORT: \"report\"\n  };\n\n  constructor(config: Object) {\n    super();\n    this._config = config;\n  }\n\n  /**\n   * Starts the timer interval.\n   * @public\n   * @returns {void}\n   */\n  start(): void {\n    this._clearTimeout();\n    this._stopped = false;\n    this._resetCounter = 0;\n    this._eventCounter = 0;\n    this._intervalId = setInterval(() => this._monitor(), SECOND);\n  }\n\n  /**\n   * Continues the timer to dispatch REPORT.\n   * @public\n   * @returns {void}\n   */\n  resume(): void {\n    this._stopped = false;\n    this._resetCounter = 0;\n  }\n\n  /**\n   * Stops the timer from dispatch REPORT and starts the timer to dispatch RESET.\n   * @public\n   * @returns {void}\n   */\n  stop(): void {\n    this._stopped = true;\n  }\n\n  /**\n   * @public\n   * @returns {boolean} - Whether the timer is stopped.\n   */\n  isStopped(): boolean {\n    return this._stopped;\n  }\n\n  /**\n   * Destroys the timer.\n   * @public\n   * @returns {void}\n   */\n  destroy(): void {\n    this._clearTimeout();\n  }\n\n  _clearTimeout(): void {\n    if (this._intervalId) {\n      clearInterval(this._intervalId);\n      this._intervalId = null;\n    }\n  }\n\n  _monitor(): void {\n    if (this._stopped) {\n      if (this._resetCounter === this._config.resetCounter) {\n        this.dispatchEvent(new FakeEvent(KavaTimer.Event.RESET));\n        this._resetCounter = 0;\n        this._eventCounter = 0;\n      }\n      this._resetCounter++;\n    } else {\n      this.dispatchEvent(new FakeEvent(KavaTimer.Event.TICK));\n      if (this._eventCounter === this._config.eventCounter) {\n        this.dispatchEvent(new FakeEvent(KavaTimer.Event.REPORT));\n        this._eventCounter = 0;\n      }\n      this._eventCounter++;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-timer.js"],"sourceRoot":""}