{"version":3,"sources":["./kava/webpack/universalModuleDefinition","./kava/playkit-kava.js","./kava/webpack/bootstrap 597dc6b5845c6d03de3e","./kava/external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":[\"KalturaPlayer\",\"core\"]}","./kava/./kava-event-model.js","./kava/./kava-model.js","./kava/./index.js","./kava/./kava.js","./kava/../node_modules/playkit-js-providers/dist/playkit-analytics-service.js","./kava/./kava-rate-handler.js","./kava/./kava-timer.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getEventModel","eventObj","model","commonModel","eventType","index","partnerId","getPartnerId","entryId","getEntryId","sessionId","getSessionId","eventIndex","getEventIndex","referrer","getReferrer","deliveryType","getDeliveryType","playbackType","getPlaybackType","clientVer","getClientVer","clientTag","getClientTag","position","getPosition","getSessionStartTime","sessionStartTime","getKS","ks","getUIConfId","uiConfId","getCustomVar1","customVar1","getCustomVar2","customVar2","getCustomVar3","customVar3","getPlaybackContext","playbackContext","getApplicationVersion","applicationVersion","eventModel","assign","value","KavaEventModel","undefined","_kavaModel","obj","VIEW","type","playTimeSum","getPlayTimeSum","bufferTime","getBufferTime","bufferTimeSum","getBufferTimeSum","actualBitrate","getActualBitrate","averageBitrate","getAverageBitrate","IMPRESSION","PLAY_REQUEST","PLAY","joinTime","getJoinTime","RESUME","PAUSE","REPLAY","SEEK","targetPosition","getTargetPosition","PLAY_REACHED_25_PERCENT","PLAY_REACHED_50_PERCENT","PLAY_REACHED_75_PERCENT","PLAY_REACHED_100_PERCENT","SOURCE_SELECTED","AUDIO_SELECTED","language","getLanguage","FLAVOR_SWITCH","CAPTIONS","caption","getCaption","ERROR","errorCode","getErrorCode","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_kavaEventModel","KavaModel","updateModel","default","NAME","VERSION","_playkitJs","_kava","_kava2","registerPlugin","_interopRequireDefault","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_typeof","Symbol","iterator","_playkitAnalyticsService","_kavaRateHandler","_kavaRateHandler2","_kavaTimer","_kavaTimer2","_kavaModel2","Kava","_BasePlugin","player","config","_this","getPrototypeOf","_rateHandler","_model","_setModelDelegates","_timer","resetCounter","resetSessionCountdown","eventCounter","viewEventCountdown","_viewEventEnabled","_resetFlags","_addBindings","eventManager","destroy","removeAll","_isFirstPlay","_isEnded","_isPaused","_isBuffering","_timePercentEvent","logger","debug","reset","_this2","_validate","_updateBufferModel","_bufferStartTime","Date","now","getModel","OVPAnalyticsService","trackEvent","serviceUrl","doHttpRequest","then","response","_updateSessionStartTimeModel","err","error","_this3","listen","Event","TICK","countCurrent","REPORT","_onReport","RESET","_resetSession","_onSourceSelected","event","_onError","FIRST_PLAY","_onFirstPlay","TRACKS_CHANGED","_setInitialTracks","PLAYING","_onPlaying","SEEKING","_onSeeking","_onPause","ENDED","_onEnded","TIME_UPDATE","_onTimeUpdate","VIDEO_TRACK_CHANGED","_onVideoTrackChanged","AUDIO_TRACK_CHANGED","_onAudioTrackChanged","TEXT_TRACK_CHANGED","_onTextTrackChanged","PLAYER_STATE_CHANGED","_onPlayerStateChanged","rates","getTracks","Track","VIDEO","forEach","videoTrack","push","bandwidth","_getRates","activeTracks","getActiveTracks","setRates","video","setCurrent","audio","text","_updatePlayTimeSumModel","_sendAnalytics","warn","start","_getTimeDifferenceInSeconds","_firstPlayRequestTime","resume","currentTime","stop","isLive","percent","duration","PLAY_REACHED_25","PLAY_REACHED_50","PLAY_REACHED_75","PLAY_REACHED_100","payload","selectedVideoTrack","isAdaptiveBitrateEnabled","audioTrack","selectedAudioTrack","textTrack","selectedTextTrack","severity","Error","Severity","CRITICAL","code","oldState","newState","State","BUFFERING","time","viewEventsEnabled","isStopped","delta","_this4","getCurrent","getAverage","playerVersion","btoa","_getPosition","_getDeliveryType","_getPlaybackType","Number","isNaN","streamType","StreamType","PROGRESSIVE","isDvr","dvrThreshold","_logMissingParam","missingParam","BasePlugin","defaultConfig","e","t","r","u","arguments","Map","headers","service","action","url","XMLHttpRequest","Promise","onreadystatechange","readyState","status","JSON","parse","responseText","message","open","method","setRequestHeader","send","params","OVPConfiguration","cdnUrl","serviceParams","apiVersion","format","a","clone","hasError","objectType","data","MultiRequestResult","f","v","y","Array","apply","concat","requests","stringify","_logger","b","results","success","result","isArray","slice","keys","getLevel","setLevel","setLogLevel","getLogLevel","LogLevel","DEBUG","INFO","TIME","WARN","OFF","useDefaults","defaultLevel","context","filterLevel","log","info","enabledFor","invoke","timeEnd","level","setHandler","createDefaultHandler","formatter","unshift","Function","console","getTime","set","getUrl","toString","encodeURIComponent","test","String","join","replace","param","tag","RequestBuilder","KavaRateHandler","_rates","rate","active","find","current","totalDuration","sum","KavaTimer","_FakeEventTarget","_config","_clearTimeout","_stopped","_resetCounter","_eventCounter","_intervalId","setInterval","_monitor","clearInterval","dispatchEvent","FakeEvent","FakeEventTarget"],"mappings":"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","file":"playkit-kava.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kava\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"KalturaPlayer\"] = root[\"KalturaPlayer\"] || {}, root[\"KalturaPlayer\"][\"plugins\"] = root[\"KalturaPlayer\"][\"plugins\"] || {}, root[\"KalturaPlayer\"][\"plugins\"][\"kava\"] = factory(root[\"KalturaPlayer\"][\"core\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"playkit-js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"playkit-js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"kava\"] = factory(require(\"playkit-js\"));\n\telse\n\t\troot[\"KalturaPlayer\"] = root[\"KalturaPlayer\"] || {}, root[\"KalturaPlayer\"][\"plugins\"] = root[\"KalturaPlayer\"][\"plugins\"] || {}, root[\"KalturaPlayer\"][\"plugins\"][\"kava\"] = factory(root[\"KalturaPlayer\"][\"core\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KavaEventModel = undefined;\nexports.getEventModel = getEventModel;\n\nvar _kavaModel = __webpack_require__(2);\n\nvar _kavaModel2 = _interopRequireDefault(_kavaModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar KavaEventModel = exports.KavaEventModel = {\n  VIEW: {\n    type: 'VIEW',\n    index: 99,\n    getEventModel: function getEventModel(model) {\n      return {\n        playTimeSum: model.getPlayTimeSum(),\n        bufferTime: model.getBufferTime(),\n        bufferTimeSum: model.getBufferTimeSum(),\n        actualBitrate: model.getActualBitrate(),\n        averageBitrate: model.getAverageBitrate()\n      };\n    }\n  },\n  IMPRESSION: {\n    type: 'IMPRESSION',\n    index: 1,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REQUEST: {\n    type: 'PLAY_REQUEST',\n    index: 2,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY: {\n    type: 'PLAY',\n    index: 3,\n    getEventModel: function getEventModel(model) {\n      return {\n        bufferTime: model.getBufferTime(),\n        bufferTimeSum: model.getBufferTimeSum(),\n        actualBitrate: model.getActualBitrate(),\n        joinTime: model.getJoinTime()\n      };\n    }\n  },\n  RESUME: {\n    type: 'RESUME',\n    index: 4,\n    getEventModel: function getEventModel(model) {\n      return {\n        bufferTime: model.getBufferTime(),\n        bufferTimeSum: model.getBufferTimeSum(),\n        actualBitrate: model.getActualBitrate()\n      };\n    }\n  },\n  PAUSE: {\n    type: 'PAUSE',\n    index: 33,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  REPLAY: {\n    type: 'REPLAY',\n    index: 34,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  SEEK: {\n    type: 'SEEK',\n    index: 35,\n    getEventModel: function getEventModel(model) {\n      return {\n        targetPosition: model.getTargetPosition()\n      };\n    }\n  },\n  PLAY_REACHED_25_PERCENT: {\n    type: 'PLAY_REACHED_25_PERCENT',\n    index: 11,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REACHED_50_PERCENT: {\n    type: 'PLAY_REACHED_50_PERCENT',\n    index: 12,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REACHED_75_PERCENT: {\n    type: 'PLAY_REACHED_75_PERCENT',\n    index: 13,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  PLAY_REACHED_100_PERCENT: {\n    type: 'PLAY_REACHED_100_PERCENT',\n    index: 14,\n    getEventModel: function getEventModel() {\n      return {};\n    }\n  },\n  SOURCE_SELECTED: {\n    type: 'SOURCE_SELECTED',\n    index: 39,\n    getEventModel: function getEventModel(model) {\n      return {\n        actualBitrate: model.getActualBitrate()\n      };\n    }\n  },\n  AUDIO_SELECTED: {\n    type: 'AUDIO_SELECTED',\n    index: 42,\n    getEventModel: function getEventModel(model) {\n      return {\n        language: model.getLanguage()\n      };\n    }\n  },\n  FLAVOR_SWITCH: {\n    type: 'FLAVOR_SWITCH',\n    index: 43,\n    getEventModel: function getEventModel(model) {\n      return {\n        actualBitrate: model.getActualBitrate()\n      };\n    }\n  },\n  CAPTIONS: {\n    type: 'CAPTIONS',\n    index: 38,\n    getEventModel: function getEventModel(model) {\n      return {\n        caption: model.getCaption()\n      };\n    }\n  },\n  ERROR: {\n    type: 'ERROR',\n    index: 98,\n    getEventModel: function getEventModel(model) {\n      return {\n        errorCode: model.getErrorCode()\n      };\n    }\n  }\n};\n\n/**\n * Gets the full event model for a certain event object including the common params.\n * @param {KavaEvent} eventObj - The event model.\n * @param {KavaModel} model - The plugin model store.\n * @returns {Object} - The full event model.\n */\n\nfunction getEventModel(eventObj, model) {\n  var commonModel = {\n    eventType: eventObj.index,\n    partnerId: model.getPartnerId(),\n    entryId: model.getEntryId(),\n    sessionId: model.getSessionId(),\n    eventIndex: model.getEventIndex(),\n    referrer: model.getReferrer(),\n    deliveryType: model.getDeliveryType(),\n    playbackType: model.getPlaybackType(),\n    clientVer: model.getClientVer(),\n    clientTag: model.getClientTag(),\n    position: model.getPosition()\n  };\n  if (model.getSessionStartTime()) {\n    commonModel.sessionStartTime = model.getSessionStartTime();\n  }\n  if (model.getKS()) {\n    commonModel.ks = model.getKS();\n  }\n  if (model.getUIConfId()) {\n    commonModel.uiConfId = model.getUIConfId();\n  }\n  if (model.getCustomVar1()) {\n    commonModel.customVar1 = model.getCustomVar1();\n  }\n  if (model.getCustomVar2()) {\n    commonModel.customVar2 = model.getCustomVar2();\n  }\n  if (model.getCustomVar3()) {\n    commonModel.customVar3 = model.getCustomVar3();\n  }\n  if (model.getPlaybackContext()) {\n    commonModel.playbackContext = model.getPlaybackContext();\n  }\n  if (model.getApplicationVersion()) {\n    commonModel.applicationVersion = model.getApplicationVersion();\n  }\n  var eventModel = eventObj.getEventModel(model);\n  return Object.assign(eventModel, commonModel);\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _kavaEventModel = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * The KAVA model that stores data.\n * @constructor\n * @param {?Object} - Initial model.\n */\nvar KavaModel = function () {\n  function KavaModel(model) {\n    _classCallCheck(this, KavaModel);\n\n    if (model) {\n      this.updateModel(model);\n    }\n  }\n\n  /**\n   * Gets the total play time.\n   * @returns {number} - The play time sum.\n   */\n\n\n  _createClass(KavaModel, [{\n    key: 'getPlayTimeSum',\n    value: function getPlayTimeSum() {\n      return this.playTimeSum;\n    }\n\n    /**\n     * Gets the buffer time.\n     * @returns {number} - The buffer time.\n     */\n\n  }, {\n    key: 'getBufferTime',\n    value: function getBufferTime() {\n      return this.bufferTime;\n    }\n\n    /**\n     * Gets the total buffer time.\n     * @returns {number} - The total buffer time.\n     */\n\n  }, {\n    key: 'getBufferTimeSum',\n    value: function getBufferTimeSum() {\n      return this.bufferTimeSum;\n    }\n\n    /**\n     * Gets the join time.\n     * @returns {number} - The join time.\n     */\n\n  }, {\n    key: 'getJoinTime',\n    value: function getJoinTime() {\n      return this.joinTime;\n    }\n\n    /**\n     * Gets a target position\n     * @returns {number} - The target position.\n     */\n\n  }, {\n    key: 'getTargetPosition',\n    value: function getTargetPosition() {\n      return this.targetPosition;\n    }\n\n    /**\n     * Gets an audio language.\n     * @returns {string} - The audio language.\n     */\n\n  }, {\n    key: 'getLanguage',\n    value: function getLanguage() {\n      return this.language;\n    }\n\n    /**\n     * Gets a caption language.\n     * @returns {string} - The caption language.\n     */\n\n  }, {\n    key: 'getCaption',\n    value: function getCaption() {\n      return this.caption;\n    }\n\n    /**\n     * Gets the error code.\n     * @returns {number} - The error code.\n     */\n\n  }, {\n    key: 'getErrorCode',\n    value: function getErrorCode() {\n      return this.errorCode;\n    }\n\n    /**\n     * Gets the event index counter.\n     * @returns {number} - The event index counter.\n     */\n\n  }, {\n    key: 'getEventIndex',\n    value: function getEventIndex() {\n      return this.eventIndex;\n    }\n\n    /**\n     * Gets the session start time.\n     * @returns {number} - The session start time.\n     */\n\n  }, {\n    key: 'getSessionStartTime',\n    value: function getSessionStartTime() {\n      return this.sessionStartTime;\n    }\n\n    /**\n     * Updates the model.\n     * @param {Object} obj - A partial or full updated model.\n     * @returns {void}\n     */\n\n  }, {\n    key: 'updateModel',\n    value: function updateModel(obj) {\n      Object.assign(this, obj);\n    }\n\n    /**\n     * Gets the model for a certain event.\n     * @param {KavaEvent} eventObj - The event object.\n     * @returns {Object} - The event model.\n     */\n\n  }, {\n    key: 'getModel',\n    value: function getModel(eventObj) {\n      return (0, _kavaEventModel.getEventModel)(eventObj, this);\n    }\n  }]);\n\n  return KavaModel;\n}();\n\nexports.default = KavaModel;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NAME = exports.VERSION = undefined;\n\nvar _playkitJs = __webpack_require__(0);\n\nvar _kava = __webpack_require__(4);\n\nvar _kava2 = _interopRequireDefault(_kava);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _kava2.default;\nexports.VERSION = \"0.2.3\";\nexports.NAME = \"playkit-js-kava\";\n\n\nvar pluginName = 'kava';\n\n(0, _playkitJs.registerPlugin)(pluginName, _kava2.default);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _playkitJs = __webpack_require__(0);\n\nvar _playkitAnalyticsService = __webpack_require__(5);\n\nvar _kavaEventModel = __webpack_require__(1);\n\nvar _kavaRateHandler = __webpack_require__(6);\n\nvar _kavaRateHandler2 = _interopRequireDefault(_kavaRateHandler);\n\nvar _kavaTimer = __webpack_require__(7);\n\nvar _kavaTimer2 = _interopRequireDefault(_kavaTimer);\n\nvar _kavaModel = __webpack_require__(2);\n\nvar _kavaModel2 = _interopRequireDefault(_kavaModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * KAVA (Kaltura Advanced Analytics) plugin class.\n * @constructor\n * @param {string} name - The plugin name.\n * @param {Player} player - The player instance.\n * @param {Object} config - The plugin config.\n */\nvar Kava = function (_BasePlugin) {\n  _inherits(Kava, _BasePlugin);\n\n  _createClass(Kava, null, [{\n    key: 'isValid',\n\n\n    /**\n     * Runs the plugin validation logic.\n     * @type {Object}\n     * @static\n     * @return {boolean} - Whether the plugin is valid or not.\n     */\n    value: function isValid() {\n      return true;\n    }\n\n    /**\n     * The default config of the plugin.\n     * @type {Object}\n     * @static\n     */\n\n  }]);\n\n  function Kava(name, player, config) {\n    _classCallCheck(this, Kava);\n\n    var _this = _possibleConstructorReturn(this, (Kava.__proto__ || Object.getPrototypeOf(Kava)).call(this, name, player, config));\n\n    _this._rateHandler = new _kavaRateHandler2.default();\n    _this._model = new _kavaModel2.default();\n    _this._setModelDelegates();\n    _this._timer = new _kavaTimer2.default({\n      resetCounter: _this.config.resetSessionCountdown,\n      eventCounter: _this.config.viewEventCountdown\n    });\n    _this._viewEventEnabled = true;\n    _this._resetFlags();\n    _this._addBindings();\n    _this._model.updateModel({\n      eventIndex: 1,\n      bufferTime: 0.0,\n      bufferTimeSum: 0.0,\n      playTimeSum: 0.0\n    });\n    return _this;\n  }\n\n  /**\n   * Runs the destroy logic of the plugin.\n   * @public\n   * @return {void}\n   */\n\n\n  _createClass(Kava, [{\n    key: 'destroy',\n    value: function destroy() {\n      this.eventManager.destroy();\n      this._timer.destroy();\n      this._rateHandler.destroy();\n    }\n\n    /**\n     * Runs the reset logic of the plugin.\n     * @public\n     * @return {void}\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.eventManager.removeAll();\n      this._rateHandler.destroy();\n      this._timer.destroy();\n      this._resetFlags();\n      this._addBindings();\n      this._model.updateModel({\n        eventIndex: 1,\n        bufferTime: 0.0,\n        bufferTimeSum: 0.0,\n        playTimeSum: 0.0,\n        sessionStartTime: null\n      });\n    }\n  }, {\n    key: '_resetFlags',\n    value: function _resetFlags() {\n      this._isFirstPlay = true;\n      this._isEnded = false;\n      this._isPaused = false;\n      this._isBuffering = false;\n      this._timePercentEvent = {\n        PLAY_REACHED_25_PERCENT: false,\n        PLAY_REACHED_50_PERCENT: false,\n        PLAY_REACHED_75_PERCENT: false,\n        PLAY_REACHED_100_PERCENT: false\n      };\n    }\n  }, {\n    key: '_resetSession',\n    value: function _resetSession() {\n      this.logger.debug('Reset KAVA session');\n      this._rateHandler.reset();\n      this._model.updateModel({\n        eventIndex: 1,\n        bufferTimeSum: 0.0,\n        playTimeSum: 0.0\n      });\n    }\n  }, {\n    key: '_sendAnalytics',\n    value: function _sendAnalytics(eventObj) {\n      var _this2 = this;\n\n      if (!this._validate()) {\n        return;\n      }\n\n      if (this._isBuffering) {\n        this._updateBufferModel();\n        this._bufferStartTime = Date.now();\n      }\n\n      var model = this._model.getModel(eventObj);\n      _playkitAnalyticsService.OVPAnalyticsService.trackEvent(this.config.serviceUrl, model).doHttpRequest().then(function (response) {\n        _this2.logger.debug('KAVA event sent', eventObj.type, model);\n        _this2._updateSessionStartTimeModel(response);\n      }, function (err) {\n        _this2.logger.error('Failed to send KAVA event', eventObj.type, model, err);\n      });\n      this._model.updateModel({ eventIndex: this._model.getEventIndex() + 1 });\n    }\n  }, {\n    key: '_addBindings',\n    value: function _addBindings() {\n      var _this3 = this;\n\n      this.eventManager.listen(this._timer, _kavaTimer2.default.Event.TICK, function () {\n        return _this3._rateHandler.countCurrent();\n      });\n      this.eventManager.listen(this._timer, _kavaTimer2.default.Event.REPORT, function () {\n        return _this3._onReport();\n      });\n      this.eventManager.listen(this._timer, _kavaTimer2.default.Event.RESET, function () {\n        return _this3._resetSession();\n      });\n      this.eventManager.listen(this.player, this.player.Event.SOURCE_SELECTED, function () {\n        return _this3._onSourceSelected();\n      });\n      this.eventManager.listen(this.player, this.player.Event.ERROR, function (event) {\n        return _this3._onError(event);\n      });\n      this.eventManager.listen(this.player, this.player.Event.FIRST_PLAY, function () {\n        return _this3._onFirstPlay();\n      });\n      this.eventManager.listen(this.player, this.player.Event.TRACKS_CHANGED, function () {\n        return _this3._setInitialTracks();\n      });\n      this.eventManager.listen(this.player, this.player.Event.PLAYING, function () {\n        return _this3._onPlaying();\n      });\n      this.eventManager.listen(this.player, this.player.Event.SEEKING, function () {\n        return _this3._onSeeking();\n      });\n      this.eventManager.listen(this.player, this.player.Event.PAUSE, function () {\n        return _this3._onPause();\n      });\n      this.eventManager.listen(this.player, this.player.Event.ENDED, function () {\n        return _this3._onEnded();\n      });\n      this.eventManager.listen(this.player, this.player.Event.TIME_UPDATE, function () {\n        return _this3._onTimeUpdate();\n      });\n      this.eventManager.listen(this.player, this.player.Event.VIDEO_TRACK_CHANGED, function (event) {\n        return _this3._onVideoTrackChanged(event);\n      });\n      this.eventManager.listen(this.player, this.player.Event.AUDIO_TRACK_CHANGED, function (event) {\n        return _this3._onAudioTrackChanged(event);\n      });\n      this.eventManager.listen(this.player, this.player.Event.TEXT_TRACK_CHANGED, function (event) {\n        return _this3._onTextTrackChanged(event);\n      });\n      this.eventManager.listen(this.player, this.player.Event.PLAYER_STATE_CHANGED, function (event) {\n        return _this3._onPlayerStateChanged(event);\n      });\n    }\n  }, {\n    key: '_getRates',\n    value: function _getRates() {\n      var rates = [];\n      var videoTracks = this.player.getTracks(this.player.Track.VIDEO);\n      videoTracks.forEach(function (videoTrack) {\n        return rates.push(videoTrack.bandwidth);\n      });\n      return rates;\n    }\n  }, {\n    key: '_setInitialTracks',\n    value: function _setInitialTracks() {\n      var rates = this._getRates();\n      var activeTracks = this.player.getActiveTracks();\n      this._rateHandler.setRates(rates);\n      if (activeTracks.video) {\n        this._rateHandler.setCurrent(activeTracks.video.bandwidth);\n      }\n      if (activeTracks.audio) {\n        this._model.updateModel({ language: activeTracks.audio.language });\n      }\n      if (activeTracks.text) {\n        this._model.updateModel({ caption: activeTracks.text.language });\n      }\n    }\n  }, {\n    key: '_onReport',\n    value: function _onReport() {\n      if (this._viewEventEnabled) {\n        this._updatePlayTimeSumModel();\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.VIEW);\n      } else {\n        this.logger.warn('VIEW event blocked because server response of viewEventsEnabled=false');\n      }\n      this._model.updateModel({ bufferTime: 0 });\n    }\n  }, {\n    key: '_onPlaying',\n    value: function _onPlaying() {\n      if (this._isFirstPlay) {\n        this._timer.start();\n        this._isFirstPlay = false;\n        this._model.updateModel({\n          joinTime: Kava._getTimeDifferenceInSeconds(this._firstPlayRequestTime)\n        });\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY);\n      } else if (this._isEnded) {\n        this._timer.start();\n        this._isEnded = false;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.REPLAY);\n      } else if (this._isPaused) {\n        this._timer.resume();\n        this._isPaused = false;\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.RESUME);\n      }\n    }\n  }, {\n    key: '_onFirstPlay',\n    value: function _onFirstPlay() {\n      this._firstPlayRequestTime = Date.now();\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REQUEST);\n    }\n  }, {\n    key: '_onSourceSelected',\n    value: function _onSourceSelected() {\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.IMPRESSION);\n    }\n  }, {\n    key: '_onSeeking',\n    value: function _onSeeking() {\n      this._model.updateModel({ targetPosition: this.player.currentTime });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.SEEK);\n    }\n  }, {\n    key: '_onPause',\n    value: function _onPause() {\n      this._isPaused = true;\n      this._timer.stop();\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.PAUSE);\n    }\n  }, {\n    key: '_onEnded',\n    value: function _onEnded() {\n      this._isEnded = true;\n      this._onTimeUpdate();\n      this._model.updateModel({ bufferTime: 0 });\n    }\n  }, {\n    key: '_onTimeUpdate',\n    value: function _onTimeUpdate() {\n      if (!this.player.isLive()) {\n        var percent = this.player.currentTime / this.player.duration;\n        if (!this._timePercentEvent.PLAY_REACHED_25 && percent >= 0.25) {\n          this._timePercentEvent.PLAY_REACHED_25 = true;\n          this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_25_PERCENT);\n        }\n        if (!this._timePercentEvent.PLAY_REACHED_50 && percent >= 0.5) {\n          this._timePercentEvent.PLAY_REACHED_50 = true;\n          this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_50_PERCENT);\n        }\n        if (!this._timePercentEvent.PLAY_REACHED_75 && percent >= 0.75) {\n          this._timePercentEvent.PLAY_REACHED_75 = true;\n          this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_75_PERCENT);\n        }\n        if (!this._timePercentEvent.PLAY_REACHED_100 && percent === 1) {\n          this._timePercentEvent.PLAY_REACHED_100 = true;\n          this._sendAnalytics(_kavaEventModel.KavaEventModel.PLAY_REACHED_100_PERCENT);\n        }\n      }\n    }\n  }, {\n    key: '_onVideoTrackChanged',\n    value: function _onVideoTrackChanged(event) {\n      var videoTrack = event.payload.selectedVideoTrack;\n      this._rateHandler.setCurrent(videoTrack.bandwidth);\n      if (this.player.isAdaptiveBitrateEnabled()) {\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.FLAVOR_SWITCH);\n      } else {\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.SOURCE_SELECTED);\n      }\n    }\n  }, {\n    key: '_onAudioTrackChanged',\n    value: function _onAudioTrackChanged(event) {\n      var audioTrack = event.payload.selectedAudioTrack;\n      this._model.updateModel({ language: audioTrack.language });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.AUDIO_SELECTED);\n    }\n  }, {\n    key: '_onTextTrackChanged',\n    value: function _onTextTrackChanged(event) {\n      var textTrack = event.payload.selectedTextTrack;\n      this._model.updateModel({ caption: textTrack.language });\n      this._sendAnalytics(_kavaEventModel.KavaEventModel.CAPTIONS);\n    }\n  }, {\n    key: '_onError',\n    value: function _onError(event) {\n      if (event.payload && event.payload.severity === _playkitJs.Error.Severity.CRITICAL) {\n        this._model.updateModel({ errorCode: event.payload.code });\n        this._sendAnalytics(_kavaEventModel.KavaEventModel.ERROR);\n        this.reset();\n      }\n    }\n  }, {\n    key: '_onPlayerStateChanged',\n    value: function _onPlayerStateChanged(event) {\n      var oldState = event.payload.oldState;\n      var newState = event.payload.newState;\n      if (oldState.type === this.player.State.BUFFERING) {\n        this._isBuffering = false;\n        this._updateBufferModel();\n      }\n      if (newState.type === this.player.State.BUFFERING) {\n        this._isBuffering = true;\n        this._bufferStartTime = Date.now();\n      }\n    }\n  }, {\n    key: '_updateSessionStartTimeModel',\n    value: function _updateSessionStartTimeModel(response) {\n      if (!this._model.getSessionStartTime() && response) {\n        if ((typeof response === 'undefined' ? 'undefined' : _typeof(response)) === 'object') {\n          this._model.updateModel({ sessionStartTime: response.time });\n          this._viewEventEnabled = response.viewEventsEnabled;\n        } else {\n          this._model.updateModel({ sessionStartTime: response });\n        }\n      }\n      if (this._timer.isStopped()) {\n        this._model.updateModel({ sessionStartTime: null });\n      }\n    }\n  }, {\n    key: '_updateBufferModel',\n    value: function _updateBufferModel() {\n      var duration = Kava._getTimeDifferenceInSeconds(this._bufferStartTime);\n      this._model.updateModel({\n        bufferTime: this._model.getBufferTime() + duration,\n        bufferTimeSum: this._model.getBufferTimeSum() + duration\n      });\n    }\n  }, {\n    key: '_updatePlayTimeSumModel',\n    value: function _updatePlayTimeSumModel() {\n      var delta = this.config.viewEventCountdown - this._model.getBufferTime();\n      this._model.updateModel({ playTimeSum: this._model.getPlayTimeSum() + delta });\n    }\n  }, {\n    key: '_setModelDelegates',\n    value: function _setModelDelegates() {\n      var _this4 = this;\n\n      this._model.getActualBitrate = function () {\n        return _this4._rateHandler.getCurrent();\n      };\n      this._model.getAverageBitrate = function () {\n        return _this4._rateHandler.getAverage();\n      };\n      this._model.getPartnerId = function () {\n        return _this4.config.partnerId;\n      };\n      this._model.getEntryId = function () {\n        return _this4.config.entryId;\n      };\n      this._model.getSessionId = function () {\n        return _this4.config.sessionId;\n      };\n      this._model.getClientVer = function () {\n        return _this4.config.playerVersion;\n      };\n      this._model.getClientTag = function () {\n        return 'html5:v' + _this4.config.playerVersion;\n      };\n      this._model.getKS = function () {\n        return _this4.config.ks;\n      };\n      this._model.getUIConfId = function () {\n        return _this4.config.uiConfId;\n      };\n      this._model.getReferrer = function () {\n        return btoa(_this4.config.referrer);\n      };\n      this._model.getCustomVar1 = function () {\n        return _this4.config.customVar1;\n      };\n      this._model.getCustomVar2 = function () {\n        return _this4.config.customVar2;\n      };\n      this._model.getCustomVar3 = function () {\n        return _this4.config.customVar3;\n      };\n      this._model.getPosition = function () {\n        return _this4._getPosition();\n      };\n      this._model.getDeliveryType = function () {\n        return _this4._getDeliveryType();\n      };\n      this._model.getPlaybackType = function () {\n        return _this4._getPlaybackType();\n      };\n      this._model.getPlaybackContext = function () {\n        return _this4.config.playbackContext;\n      };\n      this._model.getApplicationVersion = function () {\n        return _this4.config.applicationVersion;\n      };\n    }\n  }, {\n    key: '_getPosition',\n    value: function _getPosition() {\n      if (this.player.isLive()) {\n        if (!Number.isNaN(this.player.duration)) {\n          if (this.player.duration - this.player.currentTime < 1) {\n            return 0;\n          }\n          return -(this.player.duration - this.player.currentTime);\n        }\n        return 0;\n      }\n      return this.player.currentTime;\n    }\n  }, {\n    key: '_getDeliveryType',\n    value: function _getDeliveryType() {\n      if (this.player.streamType === this.player.StreamType.PROGRESSIVE) {\n        return 'url';\n      }\n      return this.player.streamType;\n    }\n  }, {\n    key: '_getPlaybackType',\n    value: function _getPlaybackType() {\n      if (this.player.isLive()) {\n        if (this.player.isDvr()) {\n          var distanceFromLiveEdge = this.player.duration - this.player.currentTime;\n          if (distanceFromLiveEdge >= this.config.dvrThreshold) {\n            return 'dvr';\n          }\n        }\n        return 'live';\n      }\n      return 'vod';\n    }\n  }, {\n    key: '_validate',\n    value: function _validate() {\n      if (!this.config.partnerId) {\n        Kava._logMissingParam('partnerId');\n        return false;\n      }\n      if (!this.config.entryId) {\n        Kava._logMissingParam('entryId');\n        return false;\n      }\n      return true;\n    }\n  }], [{\n    key: '_getTimeDifferenceInSeconds',\n    value: function _getTimeDifferenceInSeconds(time) {\n      return (Date.now() - time) / 1000.0;\n    }\n  }, {\n    key: '_logMissingParam',\n    value: function _logMissingParam(missingParam) {\n      this.logger.warn('Kava analytics block report because of missing param ' + missingParam);\n    }\n  }]);\n\n  return Kava;\n}(_playkitJs.BasePlugin);\n\nKava.defaultConfig = {\n  serviceUrl: '//analytics.kaltura.com/api_v3/index.php',\n  viewEventCountdown: 10,\n  resetSessionCountdown: 30,\n  dvrThreshold: 120,\n  playbackContext: '',\n  applicationVersion: ''\n};\nexports.default = Kava;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){ true?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.analytics=t():(e.playkit=e.playkit||{},e.playkit.services=e.playkit.services||{},e.playkit.services.analytics=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=15)}([function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=u},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OVPConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),u={serviceUrl:\"https://cdnapisec.kaltura.com\",cdnUrl:\"//cdnapisec.kaltura.com\",serviceParams:{apiVersion:\"3.3.0\",format:1}},a=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(u,e)}},{key:\"get\",value:function(){return(0,i.clone)(u)}}]),e}();t.default=a,t.OVPConfiguration=a},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):t.error&&\"KalturaAPIException\"===t.error.objectType?(this.hasError=!0,this.error=new i(t.error.code,t.error.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),f=n(5),p=r(f),v=n(2),y=r(v),d=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.requests=[],o=n,u(r,o)}return a(t,e),c(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(l.default);d._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=d;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new y.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},function(e,t,n){\"use strict\";function r(e){return e?a.get(e):a}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var u=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c={DEBUG:a.DEBUG,INFO:a.INFO,TIME:a.TIME,WARN:a.WARN,ERROR:a.ERROR,OFF:a.OFF};a.useDefaults({defaultLevel:a.ERROR}),t.default=r,t.LogLevel=c,t.getLogLevel=o,t.setLogLevel=i},function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var u={};u.VERSION=\"1.4.1\";var a,c={},s=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};u.DEBUG=f(1,\"DEBUG\"),u.INFO=f(2,\"INFO\"),u.TIME=f(3,\"TIME\"),u.WARN=f(4,\"WARN\"),u.ERROR=f(8,\"ERROR\"),u.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"end\"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var v=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){v.setLevel(e);for(var t in c)c.hasOwnProperty(t)&&c[t].setLevel(e)},u.getLevel=function(){return v.getLevel()},u.get=function(e){return c[e]||(c[e]=new p(l({name:e},v.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info?a=console.info:o.level===u.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),c=n(1),s=r(c),l=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t,n){var r=s.default.get(),o=r.serviceParams;Object.assign(o,{ks:t,clientTag:\"html5:v\"+e}),n&&Object.assign(o,{partnerId:n});var i=new Map;i.set(\"Content-Type\",\"application/json\");var u=new a.default(i);return u.method=\"POST\",u.service=\"multirequest\",u.url=u.getUrl(r.serviceUrl),u.params=o,u}}]),e}();t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(e){var t=[],n=/\\[\\]$/,o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},i=function(e,n){n=\"function\"==typeof n?n():null===n?\"\":void 0===n?\"\":n,t[t.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(n)};return function e(u,a){var c=void 0,s=void 0,l=void 0;if(u)if(o(a))for(c=0,s=a.length;c<s;c++)n.test(u)?i(u,a[c]):e(u+\":\"+(\"object\"===r(a[c])?c:\"\"),a[c]);else if(a&&\"[object Object]\"===String(a))for(l in a)e(u+\":\"+l,a[l]);else i(u,a);else if(o(a))for(c=0,s=a.length;c<s;c++)i(a[c].name,a[c].value);else for(l in a)e(l,a[l]);return t}(\"\",e).join(\"&\").replace(/%20/g,\"+\")};t.param=o},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(8),s=r(c),l=n(0),f=r(l),p=n(1),v=r(p),y=n(9),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:\"trackEvent\",value:function(e,t){var n=v.default.get(),r={};Object.assign(r,n.serviceParams,t);var o=new f.default;return o.service=\"analytics\",o.action=\"trackEvent\",o.method=\"GET\",o.tag=\"analytics-trackEvent\",o.params=r,o.url=e+\"?service=\"+o.service+\"&action=\"+o.action+\"&\"+(0,y.param)(o.params),o}}]),t}(s.default);t.default=d},,,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPAnalyticsService=void 0;var o=n(0),i=r(o),u=n(1),a=r(u),c=n(11),s=r(c);t.OVPAnalyticsService=s.default,t.OVPConfiguration=a.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-analytics-service\",t.VERSION=\"2.3.2\"}])});\n//# sourceMappingURL=playkit-analytics-service.js.map\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Manage the video rates for the KAVA plugin.\n * @constructor\n */\nvar KavaRateHandler = function () {\n  function KavaRateHandler() {\n    _classCallCheck(this, KavaRateHandler);\n\n    this._rates = [];\n\n    this._rates = [];\n  }\n\n  /**\n   * Sets the video rates.\n   * @param {Array<number>} rates - The video rates.\n   * @public\n   * @returns {void}\n   */\n\n\n  _createClass(KavaRateHandler, [{\n    key: \"setRates\",\n    value: function setRates(rates) {\n      var _this = this;\n\n      this._rates = [];\n      rates.forEach(function (rate) {\n        _this._rates.push({\n          rate: rate,\n          active: false,\n          duration: 0\n        });\n      });\n    }\n\n    /**\n     * Sets the current rate.\n     * @param {number} rate - The current rate.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"setCurrent\",\n    value: function setCurrent(rate) {\n      this._rates.forEach(function (o) {\n        return o.active = false;\n      });\n      var obj = this._rates.find(function (o) {\n        return o.rate === rate;\n      });\n      if (obj) {\n        obj.active = true;\n      }\n    }\n\n    /**\n     * Gets the current rate.\n     * @public\n     * @returns {number} - The current rate.\n     */\n\n  }, {\n    key: \"getCurrent\",\n    value: function getCurrent() {\n      var current = this._rates.find(function (o) {\n        return o.active;\n      });\n      return current ? current.rate : -1;\n    }\n\n    /**\n     * Increases the duration of the current rate.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"countCurrent\",\n    value: function countCurrent() {\n      var current = this._rates.find(function (o) {\n        return o.active;\n      });\n      if (current) {\n        current.duration++;\n      }\n    }\n\n    /**\n     * Gets the average rate.\n     * @public\n     * @returns {number} - The average rate.\n     */\n\n  }, {\n    key: \"getAverage\",\n    value: function getAverage() {\n      var totalDuration = 0;\n      var sum = 0;\n      this._rates.forEach(function (o) {\n        sum += o.rate * o.duration;\n        totalDuration += o.duration;\n      });\n      return totalDuration ? sum / totalDuration : 0;\n    }\n\n    /**\n     * Resets the duration of all rates.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._rates.forEach(function (o) {\n        return o.duration = 0;\n      });\n    }\n\n    /**\n     * Destroys the class.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._rates = [];\n    }\n  }]);\n\n  return KavaRateHandler;\n}();\n\nexports.default = KavaRateHandler;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _playkitJs = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SECOND = 1000;\n\n/**\n * Mange a timer and dispatches related events.\n * @constructor\n * @param {Object} config - The timer config.\n */\n\nvar KavaTimer = function (_FakeEventTarget) {\n  _inherits(KavaTimer, _FakeEventTarget);\n\n  function KavaTimer(config) {\n    _classCallCheck(this, KavaTimer);\n\n    var _this = _possibleConstructorReturn(this, (KavaTimer.__proto__ || Object.getPrototypeOf(KavaTimer)).call(this));\n\n    _this._config = config;\n    return _this;\n  }\n\n  /**\n   * Starts the timer interval.\n   * @public\n   * @returns {void}\n   */\n\n\n  _createClass(KavaTimer, [{\n    key: 'start',\n    value: function start() {\n      var _this2 = this;\n\n      this._clearTimeout();\n      this._stopped = false;\n      this._resetCounter = 0;\n      this._eventCounter = 0;\n      this._intervalId = setInterval(function () {\n        return _this2._monitor();\n      }, SECOND);\n    }\n\n    /**\n     * Continues the timer to dispatch REPORT.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: 'resume',\n    value: function resume() {\n      this._stopped = false;\n      this._resetCounter = 0;\n    }\n\n    /**\n     * Stops the timer from dispatch REPORT and starts the timer to dispatch RESET.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this._stopped = true;\n    }\n\n    /**\n     * @public\n     * @returns {boolean} - Whether the timer is stopped.\n     */\n\n  }, {\n    key: 'isStopped',\n    value: function isStopped() {\n      return this._stopped;\n    }\n\n    /**\n     * Destroys the timer.\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._clearTimeout();\n    }\n  }, {\n    key: '_clearTimeout',\n    value: function _clearTimeout() {\n      if (this._intervalId) {\n        clearInterval(this._intervalId);\n        this._intervalId = null;\n      }\n    }\n  }, {\n    key: '_monitor',\n    value: function _monitor() {\n      if (this._stopped) {\n        if (this._resetCounter === this._config.resetCounter) {\n          this.dispatchEvent(new _playkitJs.FakeEvent(KavaTimer.Event.RESET));\n          this._resetCounter = 0;\n          this._eventCounter = 0;\n        }\n        this._resetCounter++;\n      } else {\n        this.dispatchEvent(new _playkitJs.FakeEvent(KavaTimer.Event.TICK));\n        if (this._eventCounter === this._config.eventCounter) {\n          this.dispatchEvent(new _playkitJs.FakeEvent(KavaTimer.Event.REPORT));\n          this._eventCounter = 0;\n        }\n        this._eventCounter++;\n      }\n    }\n  }]);\n\n  return KavaTimer;\n}(_playkitJs.FakeEventTarget);\n\nKavaTimer.Event = {\n  TICK: 'tick',\n  RESET: 'reset',\n  REPORT: 'report'\n};\nexports.default = KavaTimer;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// playkit-kava.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 597dc6b5845c6d03de3e","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"playkit-js\",\"commonjs2\":\"playkit-js\",\"amd\":\"playkit-js\",\"root\":[\"KalturaPlayer\",\"core\"]}\n// module id = 0\n// module chunks = 0","// @flow\nimport KavaModel from './kava-model';\n\nexport const KavaEventModel: {[event: string]: KavaEvent} = {\n  VIEW: {\n    type: 'VIEW',\n    index: 99,\n    getEventModel: (model: KavaModel) => ({\n      playTimeSum: model.getPlayTimeSum(),\n      bufferTime: model.getBufferTime(),\n      bufferTimeSum: model.getBufferTimeSum(),\n      actualBitrate: model.getActualBitrate(),\n      averageBitrate: model.getAverageBitrate()\n    })\n  },\n  IMPRESSION: {\n    type: 'IMPRESSION',\n    index: 1,\n    getEventModel: () => ({})\n  },\n  PLAY_REQUEST: {\n    type: 'PLAY_REQUEST',\n    index: 2,\n    getEventModel: () => ({})\n  },\n  PLAY: {\n    type: 'PLAY',\n    index: 3,\n    getEventModel: (model: KavaModel) => ({\n      bufferTime: model.getBufferTime(),\n      bufferTimeSum: model.getBufferTimeSum(),\n      actualBitrate: model.getActualBitrate(),\n      joinTime: model.getJoinTime()\n    })\n  },\n  RESUME: {\n    type: 'RESUME',\n    index: 4,\n    getEventModel: (model: KavaModel) => ({\n      bufferTime: model.getBufferTime(),\n      bufferTimeSum: model.getBufferTimeSum(),\n      actualBitrate: model.getActualBitrate()\n    })\n  },\n  PAUSE: {\n    type: 'PAUSE',\n    index: 33,\n    getEventModel: () => ({})\n  },\n  REPLAY: {\n    type: 'REPLAY',\n    index: 34,\n    getEventModel: () => ({})\n  },\n  SEEK: {\n    type: 'SEEK',\n    index: 35,\n    getEventModel: (model: KavaModel) => ({\n      targetPosition: model.getTargetPosition()\n    })\n  },\n  PLAY_REACHED_25_PERCENT: {\n    type: 'PLAY_REACHED_25_PERCENT',\n    index: 11,\n    getEventModel: () => ({})\n  },\n  PLAY_REACHED_50_PERCENT: {\n    type: 'PLAY_REACHED_50_PERCENT',\n    index: 12,\n    getEventModel: () => ({})\n  },\n  PLAY_REACHED_75_PERCENT: {\n    type: 'PLAY_REACHED_75_PERCENT',\n    index: 13,\n    getEventModel: () => ({})\n  },\n  PLAY_REACHED_100_PERCENT: {\n    type: 'PLAY_REACHED_100_PERCENT',\n    index: 14,\n    getEventModel: () => ({})\n  },\n  SOURCE_SELECTED: {\n    type: 'SOURCE_SELECTED',\n    index: 39,\n    getEventModel: (model: KavaModel) => ({\n      actualBitrate: model.getActualBitrate()\n    })\n  },\n  AUDIO_SELECTED: {\n    type: 'AUDIO_SELECTED',\n    index: 42,\n    getEventModel: (model: KavaModel) => ({\n      language: model.getLanguage()\n    })\n  },\n  FLAVOR_SWITCH: {\n    type: 'FLAVOR_SWITCH',\n    index: 43,\n    getEventModel: (model: KavaModel) => ({\n      actualBitrate: model.getActualBitrate()\n    })\n  },\n  CAPTIONS: {\n    type: 'CAPTIONS',\n    index: 38,\n    getEventModel: (model: KavaModel) => ({\n      caption: model.getCaption()\n    })\n  },\n  ERROR: {\n    type: 'ERROR',\n    index: 98,\n    getEventModel: (model: KavaModel) => ({\n      errorCode: model.getErrorCode()\n    })\n  }\n};\n\n/**\n * Gets the full event model for a certain event object including the common params.\n * @param {KavaEvent} eventObj - The event model.\n * @param {KavaModel} model - The plugin model store.\n * @returns {Object} - The full event model.\n */\nexport function getEventModel(eventObj: KavaEvent, model: KavaModel): Object {\n  const commonModel: Object = {\n    eventType: eventObj.index,\n    partnerId: model.getPartnerId(),\n    entryId: model.getEntryId(),\n    sessionId: model.getSessionId(),\n    eventIndex: model.getEventIndex(),\n    referrer: model.getReferrer(),\n    deliveryType: model.getDeliveryType(),\n    playbackType: model.getPlaybackType(),\n    clientVer: model.getClientVer(),\n    clientTag: model.getClientTag(),\n    position: model.getPosition()\n  };\n  if (model.getSessionStartTime()) {\n    commonModel.sessionStartTime = model.getSessionStartTime();\n  }\n  if (model.getKS()) {\n    commonModel.ks = model.getKS();\n  }\n  if (model.getUIConfId()) {\n    commonModel.uiConfId = model.getUIConfId();\n  }\n  if (model.getCustomVar1()) {\n    commonModel.customVar1 = model.getCustomVar1();\n  }\n  if (model.getCustomVar2()) {\n    commonModel.customVar2 = model.getCustomVar2();\n  }\n  if (model.getCustomVar3()) {\n    commonModel.customVar3 = model.getCustomVar3();\n  }\n  if (model.getPlaybackContext()) {\n    commonModel.playbackContext = model.getPlaybackContext();\n  }\n  if (model.getApplicationVersion()) {\n    commonModel.applicationVersion = model.getApplicationVersion();\n  }\n  const eventModel = eventObj.getEventModel(model);\n  return Object.assign(eventModel, commonModel);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-event-model.js","// @flow\nimport {getEventModel} from './kava-event-model';\n\n/**\n * The KAVA model that stores data.\n * @constructor\n * @param {?Object} - Initial model.\n */\nexport default class KavaModel {\n  sessionStartTime: number;\n  eventIndex: number;\n  playTimeSum: number;\n  bufferTime: number;\n  bufferTimeSum: number;\n  language: string;\n  caption: string;\n  errorCode: number;\n  joinTime: number;\n  targetPosition: number;\n  getActualBitrate: Function;\n  getAverageBitrate: Function;\n  getPartnerId: Function;\n  getEntryId: Function;\n  getSessionId: Function;\n  getClientVer: Function;\n  getClientTag: Function;\n  getKS: Function;\n  getUIConfId: Function;\n  getReferrer: Function;\n  getCustomVar1: Function;\n  getCustomVar2: Function;\n  getCustomVar3: Function;\n  getPosition: Function;\n  getDeliveryType: Function;\n  getPlaybackType: Function;\n  getPlaybackContext: Function;\n  getApplicationVersion: Function;\n\n  constructor(model?: Object) {\n    if (model) {\n      this.updateModel(model);\n    }\n  }\n\n  /**\n   * Gets the total play time.\n   * @returns {number} - The play time sum.\n   */\n  getPlayTimeSum(): number {\n    return this.playTimeSum;\n  }\n\n  /**\n   * Gets the buffer time.\n   * @returns {number} - The buffer time.\n   */\n  getBufferTime(): number {\n    return this.bufferTime;\n  }\n\n  /**\n   * Gets the total buffer time.\n   * @returns {number} - The total buffer time.\n   */\n  getBufferTimeSum(): number {\n    return this.bufferTimeSum;\n  }\n\n  /**\n   * Gets the join time.\n   * @returns {number} - The join time.\n   */\n  getJoinTime(): number {\n    return this.joinTime;\n  }\n\n  /**\n   * Gets a target position\n   * @returns {number} - The target position.\n   */\n  getTargetPosition(): number {\n    return this.targetPosition;\n  }\n\n  /**\n   * Gets an audio language.\n   * @returns {string} - The audio language.\n   */\n  getLanguage(): string {\n    return this.language;\n  }\n\n  /**\n   * Gets a caption language.\n   * @returns {string} - The caption language.\n   */\n  getCaption(): string {\n    return this.caption;\n  }\n\n  /**\n   * Gets the error code.\n   * @returns {number} - The error code.\n   */\n  getErrorCode(): number {\n    return this.errorCode;\n  }\n\n  /**\n   * Gets the event index counter.\n   * @returns {number} - The event index counter.\n   */\n  getEventIndex(): number {\n    return this.eventIndex;\n  }\n\n  /**\n   * Gets the session start time.\n   * @returns {number} - The session start time.\n   */\n  getSessionStartTime(): number {\n    return this.sessionStartTime;\n  }\n\n  /**\n   * Updates the model.\n   * @param {Object} obj - A partial or full updated model.\n   * @returns {void}\n   */\n  updateModel(obj: Object): void {\n    Object.assign(this, obj);\n  }\n\n  /**\n   * Gets the model for a certain event.\n   * @param {KavaEvent} eventObj - The event object.\n   * @returns {Object} - The event model.\n   */\n  getModel(eventObj: KavaEvent): Object {\n    return getEventModel(eventObj, this);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-model.js","// @flow\nimport {registerPlugin} from 'playkit-js';\nimport Kava from './kava';\n\ndeclare var __VERSION__: string;\ndeclare var __NAME__: string;\n\nexport default Kava;\nexport {__VERSION__ as VERSION, __NAME__ as NAME};\n\nconst pluginName: string = 'kava';\n\nregisterPlugin(pluginName, Kava);\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// @flow\nimport {BasePlugin, Error as PKError, FakeEvent} from 'playkit-js';\nimport {OVPAnalyticsService} from 'playkit-js-providers/dist/playkit-analytics-service';\nimport {KavaEventModel} from './kava-event-model';\nimport KavaRateHandler from './kava-rate-handler';\nimport KavaTimer from './kava-timer';\nimport KavaModel from './kava-model';\n\n/**\n * KAVA (Kaltura Advanced Analytics) plugin class.\n * @constructor\n * @param {string} name - The plugin name.\n * @param {Player} player - The player instance.\n * @param {Object} config - The plugin config.\n */\nexport default class Kava extends BasePlugin {\n  _model: KavaModel;\n  _timer: KavaTimer;\n  _rateHandler: KavaRateHandler;\n  _viewEventEnabled: boolean;\n  _firstPlayRequestTime: number;\n  _bufferStartTime: number;\n  _isFirstPlay: boolean;\n  _isEnded: boolean;\n  _isPaused: boolean;\n  _isBuffering: boolean;\n  _timePercentEvent: {[time: string]: boolean};\n\n  /**\n   * The default config of the plugin.\n   * @type {Object}\n   * @static\n   */\n  static defaultConfig: Object = {\n    serviceUrl: '//analytics.kaltura.com/api_v3/index.php',\n    viewEventCountdown: 10,\n    resetSessionCountdown: 30,\n    dvrThreshold: 120,\n    playbackContext: '',\n    applicationVersion: ''\n  };\n\n  /**\n   * Runs the plugin validation logic.\n   * @type {Object}\n   * @static\n   * @return {boolean} - Whether the plugin is valid or not.\n   */\n  static isValid(): boolean {\n    return true;\n  }\n\n  constructor(name: string, player: Player, config: Object) {\n    super(name, player, config);\n    this._rateHandler = new KavaRateHandler();\n    this._model = new KavaModel();\n    this._setModelDelegates();\n    this._timer = new KavaTimer({\n      resetCounter: this.config.resetSessionCountdown,\n      eventCounter: this.config.viewEventCountdown\n    });\n    this._viewEventEnabled = true;\n    this._resetFlags();\n    this._addBindings();\n    this._model.updateModel({\n      eventIndex: 1,\n      bufferTime: 0.0,\n      bufferTimeSum: 0.0,\n      playTimeSum: 0.0\n    });\n  }\n\n  /**\n   * Runs the destroy logic of the plugin.\n   * @public\n   * @return {void}\n   */\n  destroy(): void {\n    this.eventManager.destroy();\n    this._timer.destroy();\n    this._rateHandler.destroy();\n  }\n\n  /**\n   * Runs the reset logic of the plugin.\n   * @public\n   * @return {void}\n   */\n  reset(): void {\n    this.eventManager.removeAll();\n    this._rateHandler.destroy();\n    this._timer.destroy();\n    this._resetFlags();\n    this._addBindings();\n    this._model.updateModel({\n      eventIndex: 1,\n      bufferTime: 0.0,\n      bufferTimeSum: 0.0,\n      playTimeSum: 0.0,\n      sessionStartTime: null\n    });\n  }\n\n  _resetFlags(): void {\n    this._isFirstPlay = true;\n    this._isEnded = false;\n    this._isPaused = false;\n    this._isBuffering = false;\n    this._timePercentEvent = {\n      PLAY_REACHED_25_PERCENT: false,\n      PLAY_REACHED_50_PERCENT: false,\n      PLAY_REACHED_75_PERCENT: false,\n      PLAY_REACHED_100_PERCENT: false\n    };\n  }\n\n  _resetSession(): void {\n    this.logger.debug('Reset KAVA session');\n    this._rateHandler.reset();\n    this._model.updateModel({\n      eventIndex: 1,\n      bufferTimeSum: 0.0,\n      playTimeSum: 0.0\n    });\n  }\n\n  _sendAnalytics(eventObj: KavaEvent): void {\n    if (!this._validate()) {\n      return;\n    }\n\n    if (this._isBuffering) {\n      this._updateBufferModel();\n      this._bufferStartTime = Date.now();\n    }\n\n    const model = this._model.getModel(eventObj);\n    OVPAnalyticsService.trackEvent(this.config.serviceUrl, model)\n      .doHttpRequest()\n      .then(\n        response => {\n          this.logger.debug(`KAVA event sent`, eventObj.type, model);\n          this._updateSessionStartTimeModel(response);\n        },\n        err => {\n          this.logger.error(`Failed to send KAVA event`, eventObj.type, model, err);\n        }\n      );\n    this._model.updateModel({eventIndex: this._model.getEventIndex() + 1});\n  }\n\n  _addBindings(): void {\n    this.eventManager.listen(this._timer, KavaTimer.Event.TICK, () => this._rateHandler.countCurrent());\n    this.eventManager.listen(this._timer, KavaTimer.Event.REPORT, () => this._onReport());\n    this.eventManager.listen(this._timer, KavaTimer.Event.RESET, () => this._resetSession());\n    this.eventManager.listen(this.player, this.player.Event.SOURCE_SELECTED, () => this._onSourceSelected());\n    this.eventManager.listen(this.player, this.player.Event.ERROR, event => this._onError(event));\n    this.eventManager.listen(this.player, this.player.Event.FIRST_PLAY, () => this._onFirstPlay());\n    this.eventManager.listen(this.player, this.player.Event.TRACKS_CHANGED, () => this._setInitialTracks());\n    this.eventManager.listen(this.player, this.player.Event.PLAYING, () => this._onPlaying());\n    this.eventManager.listen(this.player, this.player.Event.SEEKING, () => this._onSeeking());\n    this.eventManager.listen(this.player, this.player.Event.PAUSE, () => this._onPause());\n    this.eventManager.listen(this.player, this.player.Event.ENDED, () => this._onEnded());\n    this.eventManager.listen(this.player, this.player.Event.TIME_UPDATE, () => this._onTimeUpdate());\n    this.eventManager.listen(this.player, this.player.Event.VIDEO_TRACK_CHANGED, event => this._onVideoTrackChanged(event));\n    this.eventManager.listen(this.player, this.player.Event.AUDIO_TRACK_CHANGED, event => this._onAudioTrackChanged(event));\n    this.eventManager.listen(this.player, this.player.Event.TEXT_TRACK_CHANGED, event => this._onTextTrackChanged(event));\n    this.eventManager.listen(this.player, this.player.Event.PLAYER_STATE_CHANGED, event => this._onPlayerStateChanged(event));\n  }\n\n  _getRates(): Array<number> {\n    const rates = [];\n    const videoTracks = this.player.getTracks(this.player.Track.VIDEO);\n    videoTracks.forEach(videoTrack => rates.push(videoTrack.bandwidth));\n    return rates;\n  }\n\n  _setInitialTracks(): void {\n    const rates = this._getRates();\n    const activeTracks = this.player.getActiveTracks();\n    this._rateHandler.setRates(rates);\n    if (activeTracks.video) {\n      this._rateHandler.setCurrent(activeTracks.video.bandwidth);\n    }\n    if (activeTracks.audio) {\n      this._model.updateModel({language: activeTracks.audio.language});\n    }\n    if (activeTracks.text) {\n      this._model.updateModel({caption: activeTracks.text.language});\n    }\n  }\n\n  _onReport(): void {\n    if (this._viewEventEnabled) {\n      this._updatePlayTimeSumModel();\n      this._sendAnalytics(KavaEventModel.VIEW);\n    } else {\n      this.logger.warn(`VIEW event blocked because server response of viewEventsEnabled=false`);\n    }\n    this._model.updateModel({bufferTime: 0});\n  }\n\n  _onPlaying(): void {\n    if (this._isFirstPlay) {\n      this._timer.start();\n      this._isFirstPlay = false;\n      this._model.updateModel({\n        joinTime: Kava._getTimeDifferenceInSeconds(this._firstPlayRequestTime)\n      });\n      this._sendAnalytics(KavaEventModel.PLAY);\n    } else if (this._isEnded) {\n      this._timer.start();\n      this._isEnded = false;\n      this._sendAnalytics(KavaEventModel.REPLAY);\n    } else if (this._isPaused) {\n      this._timer.resume();\n      this._isPaused = false;\n      this._sendAnalytics(KavaEventModel.RESUME);\n    }\n  }\n\n  _onFirstPlay(): void {\n    this._firstPlayRequestTime = Date.now();\n    this._sendAnalytics(KavaEventModel.PLAY_REQUEST);\n  }\n\n  _onSourceSelected(): void {\n    this._sendAnalytics(KavaEventModel.IMPRESSION);\n  }\n\n  _onSeeking(): void {\n    this._model.updateModel({targetPosition: this.player.currentTime});\n    this._sendAnalytics(KavaEventModel.SEEK);\n  }\n\n  _onPause(): void {\n    this._isPaused = true;\n    this._timer.stop();\n    this._sendAnalytics(KavaEventModel.PAUSE);\n  }\n\n  _onEnded(): void {\n    this._isEnded = true;\n    this._onTimeUpdate();\n    this._model.updateModel({bufferTime: 0});\n  }\n\n  _onTimeUpdate(): void {\n    if (!this.player.isLive()) {\n      const percent = this.player.currentTime / this.player.duration;\n      if (!this._timePercentEvent.PLAY_REACHED_25 && percent >= 0.25) {\n        this._timePercentEvent.PLAY_REACHED_25 = true;\n        this._sendAnalytics(KavaEventModel.PLAY_REACHED_25_PERCENT);\n      }\n      if (!this._timePercentEvent.PLAY_REACHED_50 && percent >= 0.5) {\n        this._timePercentEvent.PLAY_REACHED_50 = true;\n        this._sendAnalytics(KavaEventModel.PLAY_REACHED_50_PERCENT);\n      }\n      if (!this._timePercentEvent.PLAY_REACHED_75 && percent >= 0.75) {\n        this._timePercentEvent.PLAY_REACHED_75 = true;\n        this._sendAnalytics(KavaEventModel.PLAY_REACHED_75_PERCENT);\n      }\n      if (!this._timePercentEvent.PLAY_REACHED_100 && percent === 1) {\n        this._timePercentEvent.PLAY_REACHED_100 = true;\n        this._sendAnalytics(KavaEventModel.PLAY_REACHED_100_PERCENT);\n      }\n    }\n  }\n\n  _onVideoTrackChanged(event: FakeEvent): void {\n    const videoTrack = event.payload.selectedVideoTrack;\n    this._rateHandler.setCurrent(videoTrack.bandwidth);\n    if (this.player.isAdaptiveBitrateEnabled()) {\n      this._sendAnalytics(KavaEventModel.FLAVOR_SWITCH);\n    } else {\n      this._sendAnalytics(KavaEventModel.SOURCE_SELECTED);\n    }\n  }\n\n  _onAudioTrackChanged(event: FakeEvent): void {\n    const audioTrack = event.payload.selectedAudioTrack;\n    this._model.updateModel({language: audioTrack.language});\n    this._sendAnalytics(KavaEventModel.AUDIO_SELECTED);\n  }\n\n  _onTextTrackChanged(event: FakeEvent): void {\n    const textTrack = event.payload.selectedTextTrack;\n    this._model.updateModel({caption: textTrack.language});\n    this._sendAnalytics(KavaEventModel.CAPTIONS);\n  }\n\n  _onError(event: FakeEvent): void {\n    if (event.payload && event.payload.severity === PKError.Severity.CRITICAL) {\n      this._model.updateModel({errorCode: event.payload.code});\n      this._sendAnalytics(KavaEventModel.ERROR);\n      this.reset();\n    }\n  }\n\n  _onPlayerStateChanged(event: FakeEvent): void {\n    const oldState = event.payload.oldState;\n    const newState = event.payload.newState;\n    if (oldState.type === this.player.State.BUFFERING) {\n      this._isBuffering = false;\n      this._updateBufferModel();\n    }\n    if (newState.type === this.player.State.BUFFERING) {\n      this._isBuffering = true;\n      this._bufferStartTime = Date.now();\n    }\n  }\n\n  _updateSessionStartTimeModel(response: Object | number): void {\n    if (!this._model.getSessionStartTime() && response) {\n      if (typeof response === 'object') {\n        this._model.updateModel({sessionStartTime: response.time});\n        this._viewEventEnabled = response.viewEventsEnabled;\n      } else {\n        this._model.updateModel({sessionStartTime: response});\n      }\n    }\n    if (this._timer.isStopped()) {\n      this._model.updateModel({sessionStartTime: null});\n    }\n  }\n\n  _updateBufferModel(): void {\n    const duration = Kava._getTimeDifferenceInSeconds(this._bufferStartTime);\n    this._model.updateModel({\n      bufferTime: this._model.getBufferTime() + duration,\n      bufferTimeSum: this._model.getBufferTimeSum() + duration\n    });\n  }\n\n  _updatePlayTimeSumModel(): void {\n    const delta = this.config.viewEventCountdown - this._model.getBufferTime();\n    this._model.updateModel({playTimeSum: this._model.getPlayTimeSum() + delta});\n  }\n\n  _setModelDelegates() {\n    this._model.getActualBitrate = () => this._rateHandler.getCurrent();\n    this._model.getAverageBitrate = () => this._rateHandler.getAverage();\n    this._model.getPartnerId = () => this.config.partnerId;\n    this._model.getEntryId = () => this.config.entryId;\n    this._model.getSessionId = () => this.config.sessionId;\n    this._model.getClientVer = () => this.config.playerVersion;\n    this._model.getClientTag = () => 'html5:v' + this.config.playerVersion;\n    this._model.getKS = () => this.config.ks;\n    this._model.getUIConfId = () => this.config.uiConfId;\n    this._model.getReferrer = () => btoa(this.config.referrer);\n    this._model.getCustomVar1 = () => this.config.customVar1;\n    this._model.getCustomVar2 = () => this.config.customVar2;\n    this._model.getCustomVar3 = () => this.config.customVar3;\n    this._model.getPosition = () => this._getPosition();\n    this._model.getDeliveryType = () => this._getDeliveryType();\n    this._model.getPlaybackType = () => this._getPlaybackType();\n    this._model.getPlaybackContext = () => this.config.playbackContext;\n    this._model.getApplicationVersion = () => this.config.applicationVersion;\n  }\n\n  _getPosition(): number {\n    if (this.player.isLive()) {\n      if (!Number.isNaN(this.player.duration)) {\n        if (this.player.duration - this.player.currentTime < 1) {\n          return 0;\n        }\n        return -(this.player.duration - this.player.currentTime);\n      }\n      return 0;\n    }\n    return this.player.currentTime;\n  }\n\n  _getDeliveryType(): string {\n    if (this.player.streamType === this.player.StreamType.PROGRESSIVE) {\n      return 'url';\n    }\n    return this.player.streamType;\n  }\n\n  _getPlaybackType(): string {\n    if (this.player.isLive()) {\n      if (this.player.isDvr()) {\n        const distanceFromLiveEdge = this.player.duration - this.player.currentTime;\n        if (distanceFromLiveEdge >= this.config.dvrThreshold) {\n          return 'dvr';\n        }\n      }\n      return 'live';\n    }\n    return 'vod';\n  }\n\n  _validate(): boolean {\n    if (!this.config.partnerId) {\n      Kava._logMissingParam('partnerId');\n      return false;\n    }\n    if (!this.config.entryId) {\n      Kava._logMissingParam('entryId');\n      return false;\n    }\n    return true;\n  }\n\n  static _getTimeDifferenceInSeconds(time): number {\n    return (Date.now() - time) / 1000.0;\n  }\n\n  static _logMissingParam(missingParam: string): void {\n    this.logger.warn(`Kava analytics block report because of missing param ${missingParam}`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava.js","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.analytics=t():(e.playkit=e.playkit||{},e.playkit.services=e.playkit.services||{},e.playkit.services.analytics=t())}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=15)}([function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;r(this,e),this.headers=t}return i(e,[{key:\"getUrl\",value:function(e){return e+\"/service/\"+this.service+(this.action?\"/action/\"+this.action:\"\")}},{key:\"doHttpRequest\",value:function(){var e=this;if(!this.url)throw new Error(\"serviceUrl is mandatory for request builder\");var t=new XMLHttpRequest;return new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&\"object\"===(void 0===e?\"undefined\":o(e))&&e.code&&e.message?r(e):n(e)}else r(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=u},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0}),t.OVPConfiguration=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),u={serviceUrl:\"https://cdnapisec.kaltura.com\",cdnUrl:\"//cdnapisec.kaltura.com\",serviceParams:{apiVersion:\"3.3.0\",format:1}},a=function(){function e(){r(this,e)}return o(e,null,[{key:\"set\",value:function(e){e&&Object.assign(u,e)}},{key:\"get\",value:function(){return(0,i.clone)(u)}}]),e}();t.default=a,t.OVPConfiguration=a},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function e(t){r(this,e),this.hasError=!1,\"KalturaAPIException\"===t.objectType?(this.hasError=!0,this.error=new i(t.code,t.message)):t.error&&\"KalturaAPIException\"===t.error.objectType?(this.hasError=!0,this.error=new i(t.error.code,t.error.message)):this.data=t};t.default=o;var i=function e(t,n){r(this,e),this.code=t,this.message=n}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MultiRequestResult=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=r(s),f=n(5),p=r(f),v=n(2),y=r(v),d=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,c=Array(a),s=0;s<a;s++)c[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.requests=[],o=n,u(r,o)}return a(t,e),c(t,[{key:\"add\",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,o({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:\"execute\",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(\"\"+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new b(e))},function(e){n(\"Error on multiRequest execution, error <\"+e+\">.\")})})}}]),t}(l.default);d._logger=(0,p.default)(\"MultiRequestBuilder\"),t.default=d;var b=t.MultiRequestResult=function e(t){var n=this;i(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var r=new y.default(t);if(n.results.push(r),r.hasError)return e._logger.error(\"Service returned an error with error code: \"+r.error.code+\" and message: \"+r.error.message+\".\"),void(n.success=!1)})};b._logger=(0,p.default)(\"MultiRequestResult\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,o){(\"object\"===(void 0===t?\"undefined\":r(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[o]=e(t))})):\"object\"===(void 0===t?\"undefined\":r(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){(\"object\"===r(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=o},function(e,t,n){\"use strict\";function r(e){return e?a.get(e):a}function o(e){return r(e).getLevel()}function i(e,t){r(t).setLevel(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var u=n(6),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c={DEBUG:a.DEBUG,INFO:a.INFO,TIME:a.TIME,WARN:a.WARN,ERROR:a.ERROR,OFF:a.OFF};a.useDefaults({defaultLevel:a.ERROR}),t.default=r,t.LogLevel=c,t.getLogLevel=o,t.setLogLevel=i},function(e,t,n){var r,o;/*!\n * js-logger - http://github.com/jonnyreeves/js-logger\n * Jonny Reeves, http://jonnyreeves.co.uk/\n * js-logger may be freely distributed under the MIT license.\n */\n!function(i){\"use strict\";var u={};u.VERSION=\"1.4.1\";var a,c={},s=function(e,t){return function(){return t.apply(e,arguments)}},l=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in r||!n[t].hasOwnProperty(e)||(r[e]=n[t][e]);return r},f=function(e,t){return{value:e,name:t}};u.DEBUG=f(1,\"DEBUG\"),u.INFO=f(2,\"INFO\"),u.TIME=f(3,\"TIME\"),u.WARN=f(4,\"WARN\"),u.ERROR=f(8,\"ERROR\"),u.OFF=f(99,\"OFF\");var p=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};p.prototype={setLevel:function(e){e&&\"value\"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(u.DEBUG,arguments)},info:function(){this.invoke(u.INFO,arguments)},warn:function(){this.invoke(u.WARN,arguments)},error:function(){this.invoke(u.ERROR,arguments)},time:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"start\"])},timeEnd:function(e){\"string\"==typeof e&&e.length>0&&this.invoke(u.TIME,[e,\"end\"])},invoke:function(e,t){a&&this.enabledFor(e)&&a(t,l({level:e},this.context))}};var v=new p({filterLevel:u.OFF});!function(){var e=u;e.enabledFor=s(v,v.enabledFor),e.debug=s(v,v.debug),e.time=s(v,v.time),e.timeEnd=s(v,v.timeEnd),e.info=s(v,v.info),e.warn=s(v,v.warn),e.error=s(v,v.error),e.log=e.info}(),u.setHandler=function(e){a=e},u.setLevel=function(e){v.setLevel(e);for(var t in c)c.hasOwnProperty(t)&&c[t].setLevel(e)},u.getLevel=function(){return v.getLevel()},u.get=function(e){return c[e]||(c[e]=new p(l({name:e},v.context)))},u.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift(\"[\"+t.name+\"]\")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return\"undefined\"==typeof console?function(){}:function(r,o){r=Array.prototype.slice.call(r);var i,a=console.log;o.level===u.TIME?(i=(o.name?\"[\"+o.name+\"] \":\"\")+r[0],\"start\"===r[1]?console.time?console.time(i):t[i]=(new Date).getTime():console.timeEnd?console.timeEnd(i):n(a,[i+\": \"+((new Date).getTime()-t[i])+\"ms\"])):(o.level===u.WARN&&console.warn?a=console.warn:o.level===u.ERROR&&console.error?a=console.error:o.level===u.INFO&&console.info?a=console.info:o.level===u.DEBUG&&console.debug&&(a=console.debug),e.formatter(r,o),n(a,r))}},u.useDefaults=function(e){u.setLevel(e&&e.defaultLevel||u.DEBUG),u.setHandler(u.createDefaultHandler(e))},r=u,void 0!==(o=\"function\"==typeof r?r.call(t,n,t,e):r)&&(e.exports=o)}()},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),a=r(u),c=n(1),s=r(c),l=function(){function e(){o(this,e)}return i(e,null,[{key:\"getMultiRequest\",value:function(e,t,n){var r=s.default.get(),o=r.serviceParams;Object.assign(o,{ks:t,clientTag:\"html5:v\"+e}),n&&Object.assign(o,{partnerId:n});var i=new Map;i.set(\"Content-Type\",\"application/json\");var u=new a.default(i);return u.method=\"POST\",u.service=\"multirequest\",u.url=u.getUrl(r.serviceUrl),u.params=o,u}}]),e}();t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},o=function(e){var t=[],n=/\\[\\]$/,o=function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},i=function(e,n){n=\"function\"==typeof n?n():null===n?\"\":void 0===n?\"\":n,t[t.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(n)};return function e(u,a){var c=void 0,s=void 0,l=void 0;if(u)if(o(a))for(c=0,s=a.length;c<s;c++)n.test(u)?i(u,a[c]):e(u+\":\"+(\"object\"===r(a[c])?c:\"\"),a[c]);else if(a&&\"[object Object]\"===String(a))for(l in a)e(u+\":\"+l,a[l]);else i(u,a);else if(o(a))for(c=0,s=a.length;c<s;c++)i(a[c].name,a[c].value);else for(l in a)e(l,a[l]);return t}(\"\",e).join(\"&\").replace(/%20/g,\"+\")};t.param=o},,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(8),s=r(c),l=n(0),f=r(l),p=n(1),v=r(p),y=n(9),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,null,[{key:\"trackEvent\",value:function(e,t){var n=v.default.get(),r={};Object.assign(r,n.serviceParams,t);var o=new f.default;return o.service=\"analytics\",o.action=\"trackEvent\",o.method=\"GET\",o.tag=\"analytics-trackEvent\",o.params=r,o.url=e+\"?service=\"+o.service+\"&action=\"+o.action+\"&\"+(0,y.param)(o.params),o}}]),t}(s.default);t.default=d},,,,function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPAnalyticsService=void 0;var o=n(0),i=r(o),u=n(1),a=r(u),c=n(11),s=r(c);t.OVPAnalyticsService=s.default,t.OVPConfiguration=a.default,t.RequestBuilder=i.default,t.NAME=\"playkit-js-providers-analytics-service\",t.VERSION=\"2.3.2\"}])});\n//# sourceMappingURL=playkit-analytics-service.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/playkit-js-providers/dist/playkit-analytics-service.js\n// module id = 5\n// module chunks = 0","// @flow\n\n/**\n * Manage the video rates for the KAVA plugin.\n * @constructor\n */\nexport default class KavaRateHandler {\n  _rates: Array<Object> = [];\n\n  constructor() {\n    this._rates = [];\n  }\n\n  /**\n   * Sets the video rates.\n   * @param {Array<number>} rates - The video rates.\n   * @public\n   * @returns {void}\n   */\n  setRates(rates: Array<number>): void {\n    this._rates = [];\n    rates.forEach(rate => {\n      this._rates.push({\n        rate: rate,\n        active: false,\n        duration: 0\n      });\n    });\n  }\n\n  /**\n   * Sets the current rate.\n   * @param {number} rate - The current rate.\n   * @public\n   * @returns {void}\n   */\n  setCurrent(rate: number): void {\n    this._rates.forEach(o => (o.active = false));\n    const obj = this._rates.find(o => o.rate === rate);\n    if (obj) {\n      obj.active = true;\n    }\n  }\n\n  /**\n   * Gets the current rate.\n   * @public\n   * @returns {number} - The current rate.\n   */\n  getCurrent(): number {\n    const current = this._rates.find(o => o.active);\n    return current ? current.rate : -1;\n  }\n\n  /**\n   * Increases the duration of the current rate.\n   * @public\n   * @returns {void}\n   */\n  countCurrent(): void {\n    const current = this._rates.find(o => o.active);\n    if (current) {\n      current.duration++;\n    }\n  }\n\n  /**\n   * Gets the average rate.\n   * @public\n   * @returns {number} - The average rate.\n   */\n  getAverage(): number {\n    let totalDuration = 0;\n    let sum = 0;\n    this._rates.forEach(o => {\n      sum += o.rate * o.duration;\n      totalDuration += o.duration;\n    });\n    return totalDuration ? sum / totalDuration : 0;\n  }\n\n  /**\n   * Resets the duration of all rates.\n   * @public\n   * @returns {void}\n   */\n  reset(): void {\n    this._rates.forEach(o => (o.duration = 0));\n  }\n\n  /**\n   * Destroys the class.\n   * @public\n   * @returns {void}\n   */\n  destroy(): void {\n    this._rates = [];\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-rate-handler.js","// @flow\nimport {FakeEvent, FakeEventTarget} from 'playkit-js';\n\nconst SECOND: number = 1000;\n\n/**\n * Mange a timer and dispatches related events.\n * @constructor\n * @param {Object} config - The timer config.\n */\nexport default class KavaTimer extends FakeEventTarget {\n  _resetCounter: number;\n  _eventCounter: number;\n  _intervalId: ?number;\n  _stopped: boolean;\n  _config: Object;\n\n  static Event = {\n    TICK: 'tick',\n    RESET: 'reset',\n    REPORT: 'report'\n  };\n\n  constructor(config: Object) {\n    super();\n    this._config = config;\n  }\n\n  /**\n   * Starts the timer interval.\n   * @public\n   * @returns {void}\n   */\n  start(): void {\n    this._clearTimeout();\n    this._stopped = false;\n    this._resetCounter = 0;\n    this._eventCounter = 0;\n    this._intervalId = setInterval(() => this._monitor(), SECOND);\n  }\n\n  /**\n   * Continues the timer to dispatch REPORT.\n   * @public\n   * @returns {void}\n   */\n  resume(): void {\n    this._stopped = false;\n    this._resetCounter = 0;\n  }\n\n  /**\n   * Stops the timer from dispatch REPORT and starts the timer to dispatch RESET.\n   * @public\n   * @returns {void}\n   */\n  stop(): void {\n    this._stopped = true;\n  }\n\n  /**\n   * @public\n   * @returns {boolean} - Whether the timer is stopped.\n   */\n  isStopped(): boolean {\n    return this._stopped;\n  }\n\n  /**\n   * Destroys the timer.\n   * @public\n   * @returns {void}\n   */\n  destroy(): void {\n    this._clearTimeout();\n  }\n\n  _clearTimeout(): void {\n    if (this._intervalId) {\n      clearInterval(this._intervalId);\n      this._intervalId = null;\n    }\n  }\n\n  _monitor(): void {\n    if (this._stopped) {\n      if (this._resetCounter === this._config.resetCounter) {\n        this.dispatchEvent(new FakeEvent(KavaTimer.Event.RESET));\n        this._resetCounter = 0;\n        this._eventCounter = 0;\n      }\n      this._resetCounter++;\n    } else {\n      this.dispatchEvent(new FakeEvent(KavaTimer.Event.TICK));\n      if (this._eventCounter === this._config.eventCounter) {\n        this.dispatchEvent(new FakeEvent(KavaTimer.Event.REPORT));\n        this._eventCounter = 0;\n      }\n      this._eventCounter++;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kava-timer.js"],"sourceRoot":""}